import{T as Ra,a as mo,b as Mr,L as Cr,c as xn,F as ds,M as pt,V as xr,C as Mt,d as ft,S as vt,e as ka,P as Sr,D as $s,f as _s,g as Ye,I as Pa,Q as Lr,h as Na,O as Ar,i as Oa,j as Ga,B as Sn,k as Da,l as Ir,N as Fa,m as Ha,n as Ua,o as go,p as Er,R as bo,q as Ba,r as ja,s as Va,t as Vs,u as Ka,v as Fo,w as Wa,x as cn,y as za,z as Rr,A as qa,E as Ho,G as Xa,H as Ja,J as Ya,K as Za,U as Ks,W as Uo,X as Qa,Y as el,Z as tl,_ as nl,$ as sl,a0 as ol,a1 as kr,a2 as il,a3 as _i,a4 as hi,a5 as mi,a6 as gi,a7 as wo,a8 as rl,a9 as cl,aa as hs,ab as al,ac as bi,ad as Pr,ae as Nr,af as Or,ag as Gr,ah as ll}from"./three-C2K7cSXS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const le={},an=[],ut=()=>{},Dr=()=>!1,As=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jo=e=>e.startsWith("onUpdate:"),ye=Object.assign,Vo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ul=Object.prototype.hasOwnProperty,re=(e,t)=>ul.call(e,t),q=Array.isArray,ln=e=>Is(e)==="[object Map]",Fr=e=>Is(e)==="[object Set]",Y=e=>typeof e=="function",me=e=>typeof e=="string",Ut=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",Hr=e=>(de(e)||Y(e))&&Y(e.then)&&Y(e.catch),Ur=Object.prototype.toString,Is=e=>Ur.call(e),fl=e=>Is(e).slice(8,-1),Br=e=>Is(e)==="[object Object]",Ko=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ln=Bo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Es=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},pl=/-\w/g,Gt=Es(e=>e.replace(pl,t=>t.slice(1).toUpperCase())),dl=/\B([A-Z])/g,Qt=Es(e=>e.replace(dl,"-$1").toLowerCase()),jr=Es(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ws=Es(e=>e?`on${jr(e)}`:""),Pt=(e,t)=>!Object.is(e,t),zs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Vr=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},$l=e=>{const t=parseFloat(e);return isNaN(t)?e:t},_l=e=>{const t=me(e)?Number(e):NaN;return isNaN(t)?e:t};let wi;const Rs=()=>wi||(wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kt(e){if(q(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=me(o)?bl(o):kt(o);if(s)for(const i in s)t[i]=s[i]}return t}else if(me(e)||de(e))return e}const hl=/;(?![^(]*\))/g,ml=/:([^]+)/,gl=/\/\*[^]*?\*\//g;function bl(e){const t={};return e.replace(gl,"").split(hl).forEach(n=>{if(n){const o=n.split(ml);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Dt(e){let t="";if(me(e))t=e;else if(q(e))for(let n=0;n<e.length;n++){const o=Dt(e[n]);o&&(t+=o+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const wl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yl=Bo(wl);function Kr(e){return!!e||e===""}const Wr=e=>!!(e&&e.__v_isRef===!0),fe=e=>me(e)?e:e==null?"":q(e)||de(e)&&(e.toString===Ur||!Y(e.toString))?Wr(e)?fe(e.value):JSON.stringify(e,zr,2):String(e),zr=(e,t)=>Wr(t)?zr(e,t.value):ln(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],i)=>(n[qs(o,i)+" =>"]=s,n),{})}:Fr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>qs(n))}:Ut(t)?qs(t):de(t)&&!q(t)&&!Br(t)?String(t):t,qs=(e,t="")=>{var n;return Ut(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class vl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!t&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ke;try{return ke=this,t()}finally{ke=n}}}on(){++this._on===1&&(this.prevScope=ke,ke=this)}off(){this._on>0&&--this._on===0&&(ke=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Tl(){return ke}let pe;const Xs=new WeakSet;class qr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xs.has(this)&&(Xs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yi(this),Yr(this);const t=pe,n=Ze;pe=this,Ze=!0;try{return this.fn()}finally{Zr(this),pe=t,Ze=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qo(t);this.deps=this.depsTail=void 0,yi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yo(this)&&this.run()}get dirty(){return yo(this)}}let Xr=0,An,In;function Jr(e,t=!1){if(e.flags|=8,t){e.next=In,In=e;return}e.next=An,An=e}function Wo(){Xr++}function zo(){if(--Xr>0)return;if(In){let t=In;for(In=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;An;){let t=An;for(An=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Yr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Zr(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),qo(o),Ml(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function yo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Qr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Qr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gn)||(e.globalVersion=Gn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!yo(e))))return;e.flags|=2;const t=e.dep,n=pe,o=Ze;pe=e,Ze=!0;try{Yr(e);const s=e.fn(e._value);(t.version===0||Pt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{pe=n,Ze=o,Zr(e),e.flags&=-3}}function qo(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)qo(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ml(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ze=!0;const ec=[];function Ct(){ec.push(Ze),Ze=!1}function xt(){const e=ec.pop();Ze=e===void 0?!0:e}function yi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=pe;pe=void 0;try{t()}finally{pe=n}}}let Gn=0;class Cl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!pe||!Ze||pe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==pe)n=this.activeLink=new Cl(pe,this),pe.deps?(n.prevDep=pe.depsTail,pe.depsTail.nextDep=n,pe.depsTail=n):pe.deps=pe.depsTail=n,tc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=pe.depsTail,n.nextDep=void 0,pe.depsTail.nextDep=n,pe.depsTail=n,pe.deps===n&&(pe.deps=o)}return n}trigger(t){this.version++,Gn++,this.notify(t)}notify(t){Wo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{zo()}}}function tc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)tc(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const vo=new WeakMap,Yt=Symbol(""),To=Symbol(""),Dn=Symbol("");function ve(e,t,n){if(Ze&&pe){let o=vo.get(e);o||vo.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new Xo),s.map=o,s.key=n),s.track()}}function bt(e,t,n,o,s,i){const r=vo.get(e);if(!r){Gn++;return}const c=a=>{a&&a.trigger()};if(Wo(),t==="clear")r.forEach(c);else{const a=q(e),u=a&&Ko(n);if(a&&n==="length"){const l=Number(o);r.forEach((f,p)=>{(p==="length"||p===Dn||!Ut(p)&&p>=l)&&c(f)})}else switch((n!==void 0||r.has(void 0))&&c(r.get(n)),u&&c(r.get(Dn)),t){case"add":a?u&&c(r.get("length")):(c(r.get(Yt)),ln(e)&&c(r.get(To)));break;case"delete":a||(c(r.get(Yt)),ln(e)&&c(r.get(To)));break;case"set":ln(e)&&c(r.get(Yt));break}}zo()}function tn(e){const t=oe(e);return t===e?t:(ve(t,"iterate",Dn),Xe(e)?t:t.map(be))}function ks(e){return ve(e=oe(e),"iterate",Dn),e}const xl={__proto__:null,[Symbol.iterator](){return Js(this,Symbol.iterator,be)},concat(...e){return tn(this).concat(...e.map(t=>q(t)?tn(t):t))},entries(){return Js(this,"entries",e=>(e[1]=be(e[1]),e))},every(e,t){return _t(this,"every",e,t,void 0,arguments)},filter(e,t){return _t(this,"filter",e,t,n=>n.map(be),arguments)},find(e,t){return _t(this,"find",e,t,be,arguments)},findIndex(e,t){return _t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return _t(this,"findLast",e,t,be,arguments)},findLastIndex(e,t){return _t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return _t(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ys(this,"includes",e)},indexOf(...e){return Ys(this,"indexOf",e)},join(e){return tn(this).join(e)},lastIndexOf(...e){return Ys(this,"lastIndexOf",e)},map(e,t){return _t(this,"map",e,t,void 0,arguments)},pop(){return wn(this,"pop")},push(...e){return wn(this,"push",e)},reduce(e,...t){return vi(this,"reduce",e,t)},reduceRight(e,...t){return vi(this,"reduceRight",e,t)},shift(){return wn(this,"shift")},some(e,t){return _t(this,"some",e,t,void 0,arguments)},splice(...e){return wn(this,"splice",e)},toReversed(){return tn(this).toReversed()},toSorted(e){return tn(this).toSorted(e)},toSpliced(...e){return tn(this).toSpliced(...e)},unshift(...e){return wn(this,"unshift",e)},values(){return Js(this,"values",be)}};function Js(e,t,n){const o=ks(e),s=o[t]();return o!==e&&!Xe(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Sl=Array.prototype;function _t(e,t,n,o,s,i){const r=ks(e),c=r!==e&&!Xe(e),a=r[t];if(a!==Sl[t]){const f=a.apply(e,i);return c?be(f):f}let u=n;r!==e&&(c?u=function(f,p){return n.call(this,be(f),p,e)}:n.length>2&&(u=function(f,p){return n.call(this,f,p,e)}));const l=a.call(r,u,o);return c&&s?s(l):l}function vi(e,t,n,o){const s=ks(e);let i=n;return s!==e&&(Xe(e)?n.length>3&&(i=function(r,c,a){return n.call(this,r,c,a,e)}):i=function(r,c,a){return n.call(this,r,be(c),a,e)}),s[t](i,...o)}function Ys(e,t,n){const o=oe(e);ve(o,"iterate",Dn);const s=o[t](...n);return(s===-1||s===!1)&&Qo(n[0])?(n[0]=oe(n[0]),o[t](...n)):s}function wn(e,t,n=[]){Ct(),Wo();const o=oe(e)[t].apply(e,n);return zo(),xt(),o}const Ll=Bo("__proto__,__v_isRef,__isVue"),nc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ut));function Al(e){Ut(e)||(e=String(e));const t=oe(this);return ve(t,"has",e),t.hasOwnProperty(e)}class sc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(s?i?Fl:cc:i?rc:ic).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=q(t);if(!s){let a;if(r&&(a=xl[n]))return a;if(n==="hasOwnProperty")return Al}const c=Reflect.get(t,n,Te(t)?t:o);return(Ut(n)?nc.has(n):Ll(n))||(s||ve(t,"get",n),i)?c:Te(c)?r&&Ko(n)?c:c.value:de(c)?s?ac(c):Yo(c):c}}class oc extends sc{constructor(t=!1){super(!1,t)}set(t,n,o,s){let i=t[n];if(!this._isShallow){const a=Ft(i);if(!Xe(o)&&!Ft(o)&&(i=oe(i),o=oe(o)),!q(t)&&Te(i)&&!Te(o))return a||(i.value=o),!0}const r=q(t)&&Ko(n)?Number(n)<t.length:re(t,n),c=Reflect.set(t,n,o,Te(t)?t:s);return t===oe(s)&&(r?Pt(o,i)&&bt(t,"set",n,o):bt(t,"add",n,o)),c}deleteProperty(t,n){const o=re(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&bt(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!Ut(n)||!nc.has(n))&&ve(t,"has",n),o}ownKeys(t){return ve(t,"iterate",q(t)?"length":Yt),Reflect.ownKeys(t)}}class Il extends sc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const El=new oc,Rl=new Il,kl=new oc(!0);const Mo=e=>e,Jn=e=>Reflect.getPrototypeOf(e);function Pl(e,t,n){return function(...o){const s=this.__v_raw,i=oe(s),r=ln(i),c=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,u=s[e](...o),l=n?Mo:t?ms:be;return!t&&ve(i,"iterate",a?To:Yt),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:c?[l(f[0]),l(f[1])]:l(f),done:p}},[Symbol.iterator](){return this}}}}function Yn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Nl(e,t){const n={get(s){const i=this.__v_raw,r=oe(i),c=oe(s);e||(Pt(s,c)&&ve(r,"get",s),ve(r,"get",c));const{has:a}=Jn(r),u=t?Mo:e?ms:be;if(a.call(r,s))return u(i.get(s));if(a.call(r,c))return u(i.get(c));i!==r&&i.get(s)},get size(){const s=this.__v_raw;return!e&&ve(oe(s),"iterate",Yt),s.size},has(s){const i=this.__v_raw,r=oe(i),c=oe(s);return e||(Pt(s,c)&&ve(r,"has",s),ve(r,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const r=this,c=r.__v_raw,a=oe(c),u=t?Mo:e?ms:be;return!e&&ve(a,"iterate",Yt),c.forEach((l,f)=>s.call(i,u(l),u(f),r))}};return ye(n,e?{add:Yn("add"),set:Yn("set"),delete:Yn("delete"),clear:Yn("clear")}:{add(s){!t&&!Xe(s)&&!Ft(s)&&(s=oe(s));const i=oe(this);return Jn(i).has.call(i,s)||(i.add(s),bt(i,"add",s,s)),this},set(s,i){!t&&!Xe(i)&&!Ft(i)&&(i=oe(i));const r=oe(this),{has:c,get:a}=Jn(r);let u=c.call(r,s);u||(s=oe(s),u=c.call(r,s));const l=a.call(r,s);return r.set(s,i),u?Pt(i,l)&&bt(r,"set",s,i):bt(r,"add",s,i),this},delete(s){const i=oe(this),{has:r,get:c}=Jn(i);let a=r.call(i,s);a||(s=oe(s),a=r.call(i,s)),c&&c.call(i,s);const u=i.delete(s);return a&&bt(i,"delete",s,void 0),u},clear(){const s=oe(this),i=s.size!==0,r=s.clear();return i&&bt(s,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Pl(s,e,t)}),n}function Jo(e,t){const n=Nl(e,t);return(o,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(re(n,s)&&s in o?n:o,s,i)}const Ol={get:Jo(!1,!1)},Gl={get:Jo(!1,!0)},Dl={get:Jo(!0,!1)};const ic=new WeakMap,rc=new WeakMap,cc=new WeakMap,Fl=new WeakMap;function Hl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ul(e){return e.__v_skip||!Object.isExtensible(e)?0:Hl(fl(e))}function Yo(e){return Ft(e)?e:Zo(e,!1,El,Ol,ic)}function Bl(e){return Zo(e,!1,kl,Gl,rc)}function ac(e){return Zo(e,!0,Rl,Dl,cc)}function Zo(e,t,n,o,s){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Ul(e);if(i===0)return e;const r=s.get(e);if(r)return r;const c=new Proxy(e,i===2?o:n);return s.set(e,c),c}function un(e){return Ft(e)?un(e.__v_raw):!!(e&&e.__v_isReactive)}function Ft(e){return!!(e&&e.__v_isReadonly)}function Xe(e){return!!(e&&e.__v_isShallow)}function Qo(e){return e?!!e.__v_raw:!1}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function jl(e){return!re(e,"__v_skip")&&Object.isExtensible(e)&&Vr(e,"__v_skip",!0),e}const be=e=>de(e)?Yo(e):e,ms=e=>de(e)?ac(e):e;function Te(e){return e?e.__v_isRef===!0:!1}function Q(e){return Vl(e,!1)}function Vl(e,t){return Te(e)?e:new Kl(e,t)}class Kl{constructor(t,n){this.dep=new Xo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:oe(t),this._value=n?t:be(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Xe(t)||Ft(t);t=o?t:oe(t),Pt(t,n)&&(this._rawValue=t,this._value=o?t:be(t),this.dep.trigger())}}function os(e){return Te(e)?e.value:e}const Wl={get:(e,t,n)=>t==="__v_raw"?e:os(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return Te(s)&&!Te(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function lc(e){return un(e)?e:new Proxy(e,Wl)}class zl{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Xo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&pe!==this)return Jr(this,!0),!0}get value(){const t=this.dep.track();return Qr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ql(e,t,n=!1){let o,s;return Y(e)?o=e:(o=e.get,s=e.set),new zl(o,s,n)}const Zn={},gs=new WeakMap;let qt;function Xl(e,t=!1,n=qt){if(n){let o=gs.get(n);o||gs.set(n,o=[]),o.push(e)}}function Jl(e,t,n=le){const{immediate:o,deep:s,once:i,scheduler:r,augmentJob:c,call:a}=n,u=T=>s?T:Xe(T)||s===!1||s===0?wt(T,1):wt(T);let l,f,p,d,w=!1,y=!1;if(Te(e)?(f=()=>e.value,w=Xe(e)):un(e)?(f=()=>u(e),w=!0):q(e)?(y=!0,w=e.some(T=>un(T)||Xe(T)),f=()=>e.map(T=>{if(Te(T))return T.value;if(un(T))return u(T);if(Y(T))return a?a(T,2):T()})):Y(e)?t?f=a?()=>a(e,2):e:f=()=>{if(p){Ct();try{p()}finally{xt()}}const T=qt;qt=l;try{return a?a(e,3,[d]):e(d)}finally{qt=T}}:f=ut,t&&s){const T=f,G=s===!0?1/0:s;f=()=>wt(T(),G)}const x=Tl(),S=()=>{l.stop(),x&&x.active&&Vo(x.effects,l)};if(i&&t){const T=t;t=(...G)=>{T(...G),S()}}let b=y?new Array(e.length).fill(Zn):Zn;const g=T=>{if(!(!(l.flags&1)||!l.dirty&&!T))if(t){const G=l.run();if(s||w||(y?G.some((A,U)=>Pt(A,b[U])):Pt(G,b))){p&&p();const A=qt;qt=l;try{const U=[G,b===Zn?void 0:y&&b[0]===Zn?[]:b,d];b=G,a?a(t,3,U):t(...U)}finally{qt=A}}}else l.run()};return c&&c(g),l=new qr(f),l.scheduler=r?()=>r(g,!1):g,d=T=>Xl(T,!1,l),p=l.onStop=()=>{const T=gs.get(l);if(T){if(a)a(T,4);else for(const G of T)G();gs.delete(l)}},t?o?g(!0):b=l.run():r?r(g.bind(null,!0),!0):l.run(),S.pause=l.pause.bind(l),S.resume=l.resume.bind(l),S.stop=S,S}function wt(e,t=1/0,n){if(t<=0||!de(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Te(e))wt(e.value,t,n);else if(q(e))for(let o=0;o<e.length;o++)wt(e[o],t,n);else if(Fr(e)||ln(e))e.forEach(o=>{wt(o,t,n)});else if(Br(e)){for(const o in e)wt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&wt(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wn(e,t,n,o){try{return o?e(...o):e()}catch(s){Ps(s,t,n)}}function Qe(e,t,n,o){if(Y(e)){const s=Wn(e,t,n,o);return s&&Hr(s)&&s.catch(i=>{Ps(i,t,n)}),s}if(q(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Qe(e[i],t,n,o));return s}}function Ps(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||le;if(t){let c=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const l=c.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,a,u)===!1)return}c=c.parent}if(i){Ct(),Wn(i,null,10,[e,a,u]),xt();return}}Yl(e,n,s,o,r)}function Yl(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const Se=[];let ct=-1;const fn=[];let Et=null,sn=0;const uc=Promise.resolve();let bs=null;function Fn(e){const t=bs||uc;return e?t.then(this?e.bind(this):e):t}function Zl(e){let t=ct+1,n=Se.length;for(;t<n;){const o=t+n>>>1,s=Se[o],i=Hn(s);i<e||i===e&&s.flags&2?t=o+1:n=o}return t}function ei(e){if(!(e.flags&1)){const t=Hn(e),n=Se[Se.length-1];!n||!(e.flags&2)&&t>=Hn(n)?Se.push(e):Se.splice(Zl(t),0,e),e.flags|=1,fc()}}function fc(){bs||(bs=uc.then(dc))}function Ql(e){q(e)?fn.push(...e):Et&&e.id===-1?Et.splice(sn+1,0,e):e.flags&1||(fn.push(e),e.flags|=1),fc()}function Ti(e,t,n=ct+1){for(;n<Se.length;n++){const o=Se[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Se.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function pc(e){if(fn.length){const t=[...new Set(fn)].sort((n,o)=>Hn(n)-Hn(o));if(fn.length=0,Et){Et.push(...t);return}for(Et=t,sn=0;sn<Et.length;sn++){const n=Et[sn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Et=null,sn=0}}const Hn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function dc(e){try{for(ct=0;ct<Se.length;ct++){const t=Se[ct];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ct<Se.length;ct++){const t=Se[ct];t&&(t.flags&=-2)}ct=-1,Se.length=0,pc(),bs=null,(Se.length||fn.length)&&dc()}}let ze=null,$c=null;function ws(e){const t=ze;return ze=e,$c=e&&e.type.__scopeId||null,t}function _c(e,t=ze,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&Ts(-1);const i=ws(t);let r;try{r=e(...s)}finally{ws(i),o._d&&Ts(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function hc(e,t){if(ze===null)return e;const n=Hs(ze),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,r,c,a=le]=t[s];i&&(Y(i)&&(i={mounted:i,updated:i}),i.deep&&wt(r),o.push({dir:i,instance:n,value:r,oldValue:void 0,arg:c,modifiers:a}))}return e}function jt(e,t,n,o){const s=e.dirs,i=t&&t.dirs;for(let r=0;r<s.length;r++){const c=s[r];i&&(c.oldValue=i[r].value);let a=c.dir[o];a&&(Ct(),Qe(a,n,8,[e.el,c,e,t]),xt())}}const eu=Symbol("_vte"),mc=e=>e.__isTeleport,gt=Symbol("_leaveCb"),Qn=Symbol("_enterCb");function tu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nt(()=>{e.isMounted=!0}),Gs(()=>{e.isUnmounting=!0}),e}const je=[Function,Array],gc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:je,onEnter:je,onAfterEnter:je,onEnterCancelled:je,onBeforeLeave:je,onLeave:je,onAfterLeave:je,onLeaveCancelled:je,onBeforeAppear:je,onAppear:je,onAfterAppear:je,onAppearCancelled:je},bc=e=>{const t=e.subTree;return t.component?bc(t.component):t},nu={name:"BaseTransition",props:gc,setup(e,{slots:t}){const n=Kc(),o=tu();return()=>{const s=t.default&&vc(t.default(),!0);if(!s||!s.length)return;const i=wc(s),r=oe(e),{mode:c}=r;if(o.isLeaving)return Zs(i);const a=Mi(i);if(!a)return Zs(i);let u=Co(a,r,o,n,f=>u=f);a.type!==Le&&Un(a,u);let l=n.subTree&&Mi(n.subTree);if(l&&l.type!==Le&&!Xt(l,a)&&bc(n).type!==Le){let f=Co(l,r,o,n);if(Un(l,f),c==="out-in"&&a.type!==Le)return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,l=void 0},Zs(i);c==="in-out"&&a.type!==Le?f.delayLeave=(p,d,w)=>{const y=yc(o,l);y[String(l.key)]=l,p[gt]=()=>{d(),p[gt]=void 0,delete u.delayedLeave,l=void 0},u.delayedLeave=()=>{w(),delete u.delayedLeave,l=void 0}}:l=void 0}else l&&(l=void 0);return i}}};function wc(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Le){t=n;break}}return t}const su=nu;function yc(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function Co(e,t,n,o,s){const{appear:i,mode:r,persisted:c=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:l,onEnterCancelled:f,onBeforeLeave:p,onLeave:d,onAfterLeave:w,onLeaveCancelled:y,onBeforeAppear:x,onAppear:S,onAfterAppear:b,onAppearCancelled:g}=t,T=String(e.key),G=yc(n,e),A=(M,m)=>{M&&Qe(M,o,9,m)},U=(M,m)=>{const P=m[1];A(M,m),q(M)?M.every(L=>L.length<=1)&&P():M.length<=1&&P()},V={mode:r,persisted:c,beforeEnter(M){let m=a;if(!n.isMounted)if(i)m=x||a;else return;M[gt]&&M[gt](!0);const P=G[T];P&&Xt(e,P)&&P.el[gt]&&P.el[gt](),A(m,[M])},enter(M){let m=u,P=l,L=f;if(!n.isMounted)if(i)m=S||u,P=b||l,L=g||f;else return;let F=!1;const B=M[Qn]=W=>{F||(F=!0,W?A(L,[M]):A(P,[M]),V.delayedLeave&&V.delayedLeave(),M[Qn]=void 0)};m?U(m,[M,B]):B()},leave(M,m){const P=String(e.key);if(M[Qn]&&M[Qn](!0),n.isUnmounting)return m();A(p,[M]);let L=!1;const F=M[gt]=B=>{L||(L=!0,m(),B?A(y,[M]):A(w,[M]),M[gt]=void 0,G[P]===e&&delete G[P])};G[P]=e,d?U(d,[M,F]):F()},clone(M){const m=Co(M,t,n,o,s);return s&&s(m),m}};return V}function Zs(e){if(Ns(e))return e=Ht(e),e.children=null,e}function Mi(e){if(!Ns(e))return mc(e.type)&&e.children?wc(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Y(n.default))return n.default()}}function Un(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Un(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vc(e,t=!1,n){let o=[],s=0;for(let i=0;i<e.length;i++){let r=e[i];const c=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===He?(r.patchFlag&128&&s++,o=o.concat(vc(r.children,t,c))):(t||r.type!==Le)&&o.push(c!=null?Ht(r,{key:c}):r)}if(s>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function Tc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ys=new WeakMap;function En(e,t,n,o,s=!1){if(q(e)){e.forEach((w,y)=>En(w,t&&(q(t)?t[y]:t),n,o,s));return}if(Rn(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&En(e,t,n,o.component.subTree);return}const i=o.shapeFlag&4?Hs(o.component):o.el,r=s?null:i,{i:c,r:a}=e,u=t&&t.r,l=c.refs===le?c.refs={}:c.refs,f=c.setupState,p=oe(f),d=f===le?Dr:w=>re(p,w);if(u!=null&&u!==a){if(Ci(t),me(u))l[u]=null,d(u)&&(f[u]=null);else if(Te(u)){u.value=null;const w=t;w.k&&(l[w.k]=null)}}if(Y(a))Wn(a,c,12,[r,l]);else{const w=me(a),y=Te(a);if(w||y){const x=()=>{if(e.f){const S=w?d(a)?f[a]:l[a]:a.value;if(s)q(S)&&Vo(S,i);else if(q(S))S.includes(i)||S.push(i);else if(w)l[a]=[i],d(a)&&(f[a]=l[a]);else{const b=[i];a.value=b,e.k&&(l[e.k]=b)}}else w?(l[a]=r,d(a)&&(f[a]=r)):y&&(a.value=r,e.k&&(l[e.k]=r))};if(r){const S=()=>{x(),ys.delete(e)};S.id=-1,ys.set(e,S),Fe(S,n)}else Ci(e),x()}}}function Ci(e){const t=ys.get(e);t&&(t.flags|=8,ys.delete(e))}Rs().requestIdleCallback;Rs().cancelIdleCallback;const Rn=e=>!!e.type.__asyncLoader,Ns=e=>e.type.__isKeepAlive;function ou(e,t){Mc(e,"a",t)}function iu(e,t){Mc(e,"da",t)}function Mc(e,t,n=Ae){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Os(t,o,n),n){let s=n.parent;for(;s&&s.parent;)Ns(s.parent.vnode)&&ru(o,t,n,s),s=s.parent}}function ru(e,t,n,o){const s=Os(t,e,o,!0);Cc(()=>{Vo(o[t],s)},n)}function Os(e,t,n=Ae,o=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Ct();const c=zn(n),a=Qe(t,n,e,r);return c(),xt(),a});return o?s.unshift(i):s.push(i),i}}const St=e=>(t,n=Ae)=>{(!jn||e==="sp")&&Os(e,(...o)=>t(...o),n)},cu=St("bm"),Nt=St("m"),au=St("bu"),lu=St("u"),Gs=St("bum"),Cc=St("um"),uu=St("sp"),fu=St("rtg"),pu=St("rtc");function du(e,t=Ae){Os("ec",e,t)}const $u=Symbol.for("v-ndc");function Qs(e,t,n,o){let s;const i=n,r=q(e);if(r||me(e)){const c=r&&un(e);let a=!1,u=!1;c&&(a=!Xe(e),u=Ft(e),e=ks(e)),s=new Array(e.length);for(let l=0,f=e.length;l<f;l++)s[l]=t(a?u?ms(be(e[l])):be(e[l]):e[l],l,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let c=0;c<e;c++)s[c]=t(c+1,c,void 0,i)}else if(de(e))if(e[Symbol.iterator])s=Array.from(e,(c,a)=>t(c,a,void 0,i));else{const c=Object.keys(e);s=new Array(c.length);for(let a=0,u=c.length;a<u;a++){const l=c[a];s[a]=t(e[l],l,a,i)}}else s=[];return s}const xo=e=>e?Wc(e)?Hs(e):xo(e.parent):null,kn=ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xo(e.parent),$root:e=>xo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Sc(e),$forceUpdate:e=>e.f||(e.f=()=>{ei(e.update)}),$nextTick:e=>e.n||(e.n=Fn.bind(e.proxy)),$watch:e=>Ou.bind(e)}),eo=(e,t)=>e!==le&&!e.__isScriptSetup&&re(e,t),_u={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:i,accessCache:r,type:c,appContext:a}=e;let u;if(t[0]!=="$"){const d=r[t];if(d!==void 0)switch(d){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(eo(o,t))return r[t]=1,o[t];if(s!==le&&re(s,t))return r[t]=2,s[t];if((u=e.propsOptions[0])&&re(u,t))return r[t]=3,i[t];if(n!==le&&re(n,t))return r[t]=4,n[t];So&&(r[t]=0)}}const l=kn[t];let f,p;if(l)return t==="$attrs"&&ve(e.attrs,"get",""),l(e);if((f=c.__cssModules)&&(f=f[t]))return f;if(n!==le&&re(n,t))return r[t]=4,n[t];if(p=a.config.globalProperties,re(p,t))return p[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:i}=e;return eo(s,t)?(s[t]=n,!0):o!==le&&re(o,t)?(o[t]=n,!0):re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:i,type:r}},c){let a,u;return!!(n[c]||e!==le&&c[0]!=="$"&&re(e,c)||eo(t,c)||(a=i[0])&&re(a,c)||re(o,c)||re(kn,c)||re(s.config.globalProperties,c)||(u=r.__cssModules)&&u[c])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:re(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function xi(e){return q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let So=!0;function hu(e){const t=Sc(e),n=e.proxy,o=e.ctx;So=!1,t.beforeCreate&&Si(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:r,watch:c,provide:a,inject:u,created:l,beforeMount:f,mounted:p,beforeUpdate:d,updated:w,activated:y,deactivated:x,beforeDestroy:S,beforeUnmount:b,destroyed:g,unmounted:T,render:G,renderTracked:A,renderTriggered:U,errorCaptured:V,serverPrefetch:M,expose:m,inheritAttrs:P,components:L,directives:F,filters:B}=t;if(u&&mu(u,o,null),r)for(const z in r){const Z=r[z];Y(Z)&&(o[z]=Z.bind(n))}if(s){const z=s.call(n,n);de(z)&&(e.data=Yo(z))}if(So=!0,i)for(const z in i){const Z=i[z],he=Y(Z)?Z.bind(n,n):Y(Z.get)?Z.get.bind(n,n):ut,et=!Y(Z)&&Y(Z.set)?Z.set.bind(n):ut,Ne=of({get:he,set:et});Object.defineProperty(o,z,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:Ce=>Ne.value=Ce})}if(c)for(const z in c)xc(c[z],o,n,z);if(a){const z=Y(a)?a.call(n):a;Reflect.ownKeys(z).forEach(Z=>{Tu(Z,z[Z])})}l&&Si(l,e,"c");function J(z,Z){q(Z)?Z.forEach(he=>z(he.bind(n))):Z&&z(Z.bind(n))}if(J(cu,f),J(Nt,p),J(au,d),J(lu,w),J(ou,y),J(iu,x),J(du,V),J(pu,A),J(fu,U),J(Gs,b),J(Cc,T),J(uu,M),q(m))if(m.length){const z=e.exposed||(e.exposed={});m.forEach(Z=>{Object.defineProperty(z,Z,{get:()=>n[Z],set:he=>n[Z]=he,enumerable:!0})})}else e.exposed||(e.exposed={});G&&e.render===ut&&(e.render=G),P!=null&&(e.inheritAttrs=P),L&&(e.components=L),F&&(e.directives=F),M&&Tc(e)}function mu(e,t,n=ut){q(e)&&(e=Lo(e));for(const o in e){const s=e[o];let i;de(s)?"default"in s?i=is(s.from||o,s.default,!0):i=is(s.from||o):i=is(s),Te(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function Si(e,t,n){Qe(q(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function xc(e,t,n,o){let s=o.includes(".")?Hc(n,o):()=>n[o];if(me(e)){const i=t[e];Y(i)&&rs(s,i)}else if(Y(e))rs(s,e.bind(n));else if(de(e))if(q(e))e.forEach(i=>xc(i,t,n,o));else{const i=Y(e.handler)?e.handler.bind(n):t[e.handler];Y(i)&&rs(s,i,e)}}function Sc(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,c=i.get(t);let a;return c?a=c:!s.length&&!n&&!o?a=t:(a={},s.length&&s.forEach(u=>vs(a,u,r,!0)),vs(a,t,r)),de(t)&&i.set(t,a),a}function vs(e,t,n,o=!1){const{mixins:s,extends:i}=t;i&&vs(e,i,n,!0),s&&s.forEach(r=>vs(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const c=gu[r]||n&&n[r];e[r]=c?c(e[r],t[r]):t[r]}return e}const gu={data:Li,props:Ai,emits:Ai,methods:Cn,computed:Cn,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:Cn,directives:Cn,watch:wu,provide:Li,inject:bu};function Li(e,t){return t?e?function(){return ye(Y(e)?e.call(this,this):e,Y(t)?t.call(this,this):t)}:t:e}function bu(e,t){return Cn(Lo(e),Lo(t))}function Lo(e){if(q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Cn(e,t){return e?ye(Object.create(null),e,t):t}function Ai(e,t){return e?q(e)&&q(t)?[...new Set([...e,...t])]:ye(Object.create(null),xi(e),xi(t??{})):t}function wu(e,t){if(!e)return t;if(!t)return e;const n=ye(Object.create(null),e);for(const o in t)n[o]=xe(e[o],t[o]);return n}function Lc(){return{app:null,config:{isNativeTag:Dr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yu=0;function vu(e,t){return function(o,s=null){Y(o)||(o=ye({},o)),s!=null&&!de(s)&&(s=null);const i=Lc(),r=new WeakSet,c=[];let a=!1;const u=i.app={_uid:yu++,_component:o,_props:s,_container:null,_context:i,_instance:null,version:cf,get config(){return i.config},set config(l){},use(l,...f){return r.has(l)||(l&&Y(l.install)?(r.add(l),l.install(u,...f)):Y(l)&&(r.add(l),l(u,...f))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,f){return f?(i.components[l]=f,u):i.components[l]},directive(l,f){return f?(i.directives[l]=f,u):i.directives[l]},mount(l,f,p){if(!a){const d=u._ceVNode||we(o,s);return d.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),e(d,l,p),a=!0,u._container=l,l.__vue_app__=u,Hs(d.component)}},onUnmount(l){c.push(l)},unmount(){a&&(Qe(c,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(l,f){return i.provides[l]=f,u},runWithContext(l){const f=pn;pn=u;try{return l()}finally{pn=f}}};return u}}let pn=null;function Tu(e,t){if(Ae){let n=Ae.provides;const o=Ae.parent&&Ae.parent.provides;o===n&&(n=Ae.provides=Object.create(o)),n[e]=t}}function is(e,t,n=!1){const o=Kc();if(o||pn){let s=pn?pn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Y(t)?t.call(o&&o.proxy):t}}const Ac={},Ic=()=>Object.create(Ac),Ec=e=>Object.getPrototypeOf(e)===Ac;function Mu(e,t,n,o=!1){const s={},i=Ic();e.propsDefaults=Object.create(null),Rc(e,t,s,i);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);n?e.props=o?s:Bl(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Cu(e,t,n,o){const{props:s,attrs:i,vnode:{patchFlag:r}}=e,c=oe(s),[a]=e.propsOptions;let u=!1;if((o||r>0)&&!(r&16)){if(r&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let p=l[f];if(Ds(e.emitsOptions,p))continue;const d=t[p];if(a)if(re(i,p))d!==i[p]&&(i[p]=d,u=!0);else{const w=Gt(p);s[w]=Ao(a,c,w,d,e,!1)}else d!==i[p]&&(i[p]=d,u=!0)}}}else{Rc(e,t,s,i)&&(u=!0);let l;for(const f in c)(!t||!re(t,f)&&((l=Qt(f))===f||!re(t,l)))&&(a?n&&(n[f]!==void 0||n[l]!==void 0)&&(s[f]=Ao(a,c,f,void 0,e,!0)):delete s[f]);if(i!==c)for(const f in i)(!t||!re(t,f))&&(delete i[f],u=!0)}u&&bt(e.attrs,"set","")}function Rc(e,t,n,o){const[s,i]=e.propsOptions;let r=!1,c;if(t)for(let a in t){if(Ln(a))continue;const u=t[a];let l;s&&re(s,l=Gt(a))?!i||!i.includes(l)?n[l]=u:(c||(c={}))[l]=u:Ds(e.emitsOptions,a)||(!(a in o)||u!==o[a])&&(o[a]=u,r=!0)}if(i){const a=oe(n),u=c||le;for(let l=0;l<i.length;l++){const f=i[l];n[f]=Ao(s,a,f,u[f],e,!re(u,f))}}return r}function Ao(e,t,n,o,s,i){const r=e[n];if(r!=null){const c=re(r,"default");if(c&&o===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&Y(a)){const{propsDefaults:u}=s;if(n in u)o=u[n];else{const l=zn(s);o=u[n]=a.call(null,t),l()}}else o=a;s.ce&&s.ce._setProp(n,o)}r[0]&&(i&&!c?o=!1:r[1]&&(o===""||o===Qt(n))&&(o=!0))}return o}const xu=new WeakMap;function kc(e,t,n=!1){const o=n?xu:t.propsCache,s=o.get(e);if(s)return s;const i=e.props,r={},c=[];let a=!1;if(!Y(e)){const l=f=>{a=!0;const[p,d]=kc(f,t,!0);ye(r,p),d&&c.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!a)return de(e)&&o.set(e,an),an;if(q(i))for(let l=0;l<i.length;l++){const f=Gt(i[l]);Ii(f)&&(r[f]=le)}else if(i)for(const l in i){const f=Gt(l);if(Ii(f)){const p=i[l],d=r[f]=q(p)||Y(p)?{type:p}:ye({},p),w=d.type;let y=!1,x=!0;if(q(w))for(let S=0;S<w.length;++S){const b=w[S],g=Y(b)&&b.name;if(g==="Boolean"){y=!0;break}else g==="String"&&(x=!1)}else y=Y(w)&&w.name==="Boolean";d[0]=y,d[1]=x,(y||re(d,"default"))&&c.push(f)}}const u=[r,c];return de(e)&&o.set(e,u),u}function Ii(e){return e[0]!=="$"&&!Ln(e)}const ti=e=>e==="_"||e==="_ctx"||e==="$stable",ni=e=>q(e)?e.map(lt):[lt(e)],Su=(e,t,n)=>{if(t._n)return t;const o=_c((...s)=>ni(t(...s)),n);return o._c=!1,o},Pc=(e,t,n)=>{const o=e._ctx;for(const s in e){if(ti(s))continue;const i=e[s];if(Y(i))t[s]=Su(s,i,o);else if(i!=null){const r=ni(i);t[s]=()=>r}}},Nc=(e,t)=>{const n=ni(t);e.slots.default=()=>n},Oc=(e,t,n)=>{for(const o in t)(n||!ti(o))&&(e[o]=t[o])},Lu=(e,t,n)=>{const o=e.slots=Ic();if(e.vnode.shapeFlag&32){const s=t._;s?(Oc(o,t,n),n&&Vr(o,"_",s,!0)):Pc(t,o)}else t&&Nc(e,t)},Au=(e,t,n)=>{const{vnode:o,slots:s}=e;let i=!0,r=le;if(o.shapeFlag&32){const c=t._;c?n&&c===1?i=!1:Oc(s,t,n):(i=!t.$stable,Pc(t,s)),r=t}else t&&(Nc(e,t),r={default:1});if(i)for(const c in s)!ti(c)&&r[c]==null&&delete s[c]},Fe=Vu;function Iu(e){return Eu(e)}function Eu(e,t){const n=Rs();n.__VUE__=!0;const{insert:o,remove:s,patchProp:i,createElement:r,createText:c,createComment:a,setText:u,setElementText:l,parentNode:f,nextSibling:p,setScopeId:d=ut,insertStaticContent:w}=e,y=($,_,C,k=null,E=null,I=null,D=void 0,O=null,N=!!_.dynamicChildren)=>{if($===_)return;$&&!Xt($,_)&&(k=Be($),Ce($,E,I,!0),$=null),_.patchFlag===-2&&(N=!1,_.dynamicChildren=null);const{type:R,ref:K,shapeFlag:H}=_;switch(R){case Fs:x($,_,C,k);break;case Le:S($,_,C,k);break;case cs:$==null&&b(_,C,k,D);break;case He:L($,_,C,k,E,I,D,O,N);break;default:H&1?G($,_,C,k,E,I,D,O,N):H&6?F($,_,C,k,E,I,D,O,N):(H&64||H&128)&&R.process($,_,C,k,E,I,D,O,N,Ge)}K!=null&&E?En(K,$&&$.ref,I,_||$,!_):K==null&&$&&$.ref!=null&&En($.ref,null,I,$,!0)},x=($,_,C,k)=>{if($==null)o(_.el=c(_.children),C,k);else{const E=_.el=$.el;_.children!==$.children&&u(E,_.children)}},S=($,_,C,k)=>{$==null?o(_.el=a(_.children||""),C,k):_.el=$.el},b=($,_,C,k)=>{[$.el,$.anchor]=w($.children,_,C,k,$.el,$.anchor)},g=({el:$,anchor:_},C,k)=>{let E;for(;$&&$!==_;)E=p($),o($,C,k),$=E;o(_,C,k)},T=({el:$,anchor:_})=>{let C;for(;$&&$!==_;)C=p($),s($),$=C;s(_)},G=($,_,C,k,E,I,D,O,N)=>{_.type==="svg"?D="svg":_.type==="math"&&(D="mathml"),$==null?A(_,C,k,E,I,D,O,N):M($,_,E,I,D,O,N)},A=($,_,C,k,E,I,D,O)=>{let N,R;const{props:K,shapeFlag:H,transition:j,dirs:X}=$;if(N=$.el=r($.type,I,K&&K.is,K),H&8?l(N,$.children):H&16&&V($.children,N,null,k,E,to($,I),D,O),X&&jt($,null,k,"created"),U(N,$,$.scopeId,D,k),K){for(const ue in K)ue!=="value"&&!Ln(ue)&&i(N,ue,null,K[ue],I,k);"value"in K&&i(N,"value",null,K.value,I),(R=K.onVnodeBeforeMount)&&rt(R,k,$)}X&&jt($,null,k,"beforeMount");const ne=Ru(E,j);ne&&j.beforeEnter(N),o(N,_,C),((R=K&&K.onVnodeMounted)||ne||X)&&Fe(()=>{R&&rt(R,k,$),ne&&j.enter(N),X&&jt($,null,k,"mounted")},E)},U=($,_,C,k,E)=>{if(C&&d($,C),k)for(let I=0;I<k.length;I++)d($,k[I]);if(E){let I=E.subTree;if(_===I||Bc(I.type)&&(I.ssContent===_||I.ssFallback===_)){const D=E.vnode;U($,D,D.scopeId,D.slotScopeIds,E.parent)}}},V=($,_,C,k,E,I,D,O,N=0)=>{for(let R=N;R<$.length;R++){const K=$[R]=O?Rt($[R]):lt($[R]);y(null,K,_,C,k,E,I,D,O)}},M=($,_,C,k,E,I,D)=>{const O=_.el=$.el;let{patchFlag:N,dynamicChildren:R,dirs:K}=_;N|=$.patchFlag&16;const H=$.props||le,j=_.props||le;let X;if(C&&Vt(C,!1),(X=j.onVnodeBeforeUpdate)&&rt(X,C,_,$),K&&jt(_,$,C,"beforeUpdate"),C&&Vt(C,!0),(H.innerHTML&&j.innerHTML==null||H.textContent&&j.textContent==null)&&l(O,""),R?m($.dynamicChildren,R,O,C,k,to(_,E),I):D||Z($,_,O,null,C,k,to(_,E),I,!1),N>0){if(N&16)P(O,H,j,C,E);else if(N&2&&H.class!==j.class&&i(O,"class",null,j.class,E),N&4&&i(O,"style",H.style,j.style,E),N&8){const ne=_.dynamicProps;for(let ue=0;ue<ne.length;ue++){const ce=ne[ue],Ee=H[ce],Re=j[ce];(Re!==Ee||ce==="value")&&i(O,ce,Ee,Re,E,C)}}N&1&&$.children!==_.children&&l(O,_.children)}else!D&&R==null&&P(O,H,j,C,E);((X=j.onVnodeUpdated)||K)&&Fe(()=>{X&&rt(X,C,_,$),K&&jt(_,$,C,"updated")},k)},m=($,_,C,k,E,I,D)=>{for(let O=0;O<_.length;O++){const N=$[O],R=_[O],K=N.el&&(N.type===He||!Xt(N,R)||N.shapeFlag&198)?f(N.el):C;y(N,R,K,null,k,E,I,D,!0)}},P=($,_,C,k,E)=>{if(_!==C){if(_!==le)for(const I in _)!Ln(I)&&!(I in C)&&i($,I,_[I],null,E,k);for(const I in C){if(Ln(I))continue;const D=C[I],O=_[I];D!==O&&I!=="value"&&i($,I,O,D,E,k)}"value"in C&&i($,"value",_.value,C.value,E)}},L=($,_,C,k,E,I,D,O,N)=>{const R=_.el=$?$.el:c(""),K=_.anchor=$?$.anchor:c("");let{patchFlag:H,dynamicChildren:j,slotScopeIds:X}=_;X&&(O=O?O.concat(X):X),$==null?(o(R,C,k),o(K,C,k),V(_.children||[],C,K,E,I,D,O,N)):H>0&&H&64&&j&&$.dynamicChildren?(m($.dynamicChildren,j,C,E,I,D,O),(_.key!=null||E&&_===E.subTree)&&Gc($,_,!0)):Z($,_,C,K,E,I,D,O,N)},F=($,_,C,k,E,I,D,O,N)=>{_.slotScopeIds=O,$==null?_.shapeFlag&512?E.ctx.activate(_,C,k,D,N):B(_,C,k,E,I,D,N):W($,_,N)},B=($,_,C,k,E,I,D)=>{const O=$.component=Zu($,k,E);if(Ns($)&&(O.ctx.renderer=Ge),Qu(O,!1,D),O.asyncDep){if(E&&E.registerDep(O,J,D),!$.el){const N=O.subTree=we(Le);S(null,N,_,C),$.placeholder=N.el}}else J(O,$,_,C,E,I,D)},W=($,_,C)=>{const k=_.component=$.component;if(Bu($,_,C))if(k.asyncDep&&!k.asyncResolved){z(k,_,C);return}else k.next=_,k.update();else _.el=$.el,k.vnode=_},J=($,_,C,k,E,I,D)=>{const O=()=>{if($.isMounted){let{next:H,bu:j,u:X,parent:ne,vnode:ue}=$;{const ot=Dc($);if(ot){H&&(H.el=ue.el,z($,H,D)),ot.asyncDep.then(()=>{$.isUnmounted||O()});return}}let ce=H,Ee;Vt($,!1),H?(H.el=ue.el,z($,H,D)):H=ue,j&&zs(j),(Ee=H.props&&H.props.onVnodeBeforeUpdate)&&rt(Ee,ne,H,ue),Vt($,!0);const Re=Ri($),st=$.subTree;$.subTree=Re,y(st,Re,f(st.el),Be(st),$,E,I),H.el=Re.el,ce===null&&ju($,Re.el),X&&Fe(X,E),(Ee=H.props&&H.props.onVnodeUpdated)&&Fe(()=>rt(Ee,ne,H,ue),E)}else{let H;const{el:j,props:X}=_,{bm:ne,m:ue,parent:ce,root:Ee,type:Re}=$,st=Rn(_);Vt($,!1),ne&&zs(ne),!st&&(H=X&&X.onVnodeBeforeMount)&&rt(H,ce,_),Vt($,!0);{Ee.ce&&Ee.ce._def.shadowRoot!==!1&&Ee.ce._injectChildStyle(Re);const ot=$.subTree=Ri($);y(null,ot,C,k,$,E,I),_.el=ot.el}if(ue&&Fe(ue,E),!st&&(H=X&&X.onVnodeMounted)){const ot=_;Fe(()=>rt(H,ce,ot),E)}(_.shapeFlag&256||ce&&Rn(ce.vnode)&&ce.vnode.shapeFlag&256)&&$.a&&Fe($.a,E),$.isMounted=!0,_=C=k=null}};$.scope.on();const N=$.effect=new qr(O);$.scope.off();const R=$.update=N.run.bind(N),K=$.job=N.runIfDirty.bind(N);K.i=$,K.id=$.uid,N.scheduler=()=>ei(K),Vt($,!0),R()},z=($,_,C)=>{_.component=$;const k=$.vnode.props;$.vnode=_,$.next=null,Cu($,_.props,k,C),Au($,_.children,C),Ct(),Ti($),xt()},Z=($,_,C,k,E,I,D,O,N=!1)=>{const R=$&&$.children,K=$?$.shapeFlag:0,H=_.children,{patchFlag:j,shapeFlag:X}=_;if(j>0){if(j&128){et(R,H,C,k,E,I,D,O,N);return}else if(j&256){he(R,H,C,k,E,I,D,O,N);return}}X&8?(K&16&&Oe(R,E,I),H!==R&&l(C,H)):K&16?X&16?et(R,H,C,k,E,I,D,O,N):Oe(R,E,I,!0):(K&8&&l(C,""),X&16&&V(H,C,k,E,I,D,O,N))},he=($,_,C,k,E,I,D,O,N)=>{$=$||an,_=_||an;const R=$.length,K=_.length,H=Math.min(R,K);let j;for(j=0;j<H;j++){const X=_[j]=N?Rt(_[j]):lt(_[j]);y($[j],X,C,null,E,I,D,O,N)}R>K?Oe($,E,I,!0,!1,H):V(_,C,k,E,I,D,O,N,H)},et=($,_,C,k,E,I,D,O,N)=>{let R=0;const K=_.length;let H=$.length-1,j=K-1;for(;R<=H&&R<=j;){const X=$[R],ne=_[R]=N?Rt(_[R]):lt(_[R]);if(Xt(X,ne))y(X,ne,C,null,E,I,D,O,N);else break;R++}for(;R<=H&&R<=j;){const X=$[H],ne=_[j]=N?Rt(_[j]):lt(_[j]);if(Xt(X,ne))y(X,ne,C,null,E,I,D,O,N);else break;H--,j--}if(R>H){if(R<=j){const X=j+1,ne=X<K?_[X].el:k;for(;R<=j;)y(null,_[R]=N?Rt(_[R]):lt(_[R]),C,ne,E,I,D,O,N),R++}}else if(R>j)for(;R<=H;)Ce($[R],E,I,!0),R++;else{const X=R,ne=R,ue=new Map;for(R=ne;R<=j;R++){const De=_[R]=N?Rt(_[R]):lt(_[R]);De.key!=null&&ue.set(De.key,R)}let ce,Ee=0;const Re=j-ne+1;let st=!1,ot=0;const bn=new Array(Re);for(R=0;R<Re;R++)bn[R]=0;for(R=X;R<=H;R++){const De=$[R];if(Ee>=Re){Ce(De,E,I,!0);continue}let it;if(De.key!=null)it=ue.get(De.key);else for(ce=ne;ce<=j;ce++)if(bn[ce-ne]===0&&Xt(De,_[ce])){it=ce;break}it===void 0?Ce(De,E,I,!0):(bn[it-ne]=R+1,it>=ot?ot=it:st=!0,y(De,_[it],C,null,E,I,D,O,N),Ee++)}const pi=st?ku(bn):an;for(ce=pi.length-1,R=Re-1;R>=0;R--){const De=ne+R,it=_[De],di=_[De+1],$i=De+1<K?di.el||di.placeholder:k;bn[R]===0?y(null,it,C,$i,E,I,D,O,N):st&&(ce<0||R!==pi[ce]?Ne(it,C,$i,2):ce--)}}},Ne=($,_,C,k,E=null)=>{const{el:I,type:D,transition:O,children:N,shapeFlag:R}=$;if(R&6){Ne($.component.subTree,_,C,k);return}if(R&128){$.suspense.move(_,C,k);return}if(R&64){D.move($,_,C,Ge);return}if(D===He){o(I,_,C);for(let H=0;H<N.length;H++)Ne(N[H],_,C,k);o($.anchor,_,C);return}if(D===cs){g($,_,C);return}if(k!==2&&R&1&&O)if(k===0)O.beforeEnter(I),o(I,_,C),Fe(()=>O.enter(I),E);else{const{leave:H,delayLeave:j,afterLeave:X}=O,ne=()=>{$.ctx.isUnmounted?s(I):o(I,_,C)},ue=()=>{I._isLeaving&&I[gt](!0),H(I,()=>{ne(),X&&X()})};j?j(I,ne,ue):ue()}else o(I,_,C)},Ce=($,_,C,k=!1,E=!1)=>{const{type:I,props:D,ref:O,children:N,dynamicChildren:R,shapeFlag:K,patchFlag:H,dirs:j,cacheIndex:X}=$;if(H===-2&&(E=!1),O!=null&&(Ct(),En(O,null,C,$,!0),xt()),X!=null&&(_.renderCache[X]=void 0),K&256){_.ctx.deactivate($);return}const ne=K&1&&j,ue=!Rn($);let ce;if(ue&&(ce=D&&D.onVnodeBeforeUnmount)&&rt(ce,_,$),K&6)$t($.component,C,k);else{if(K&128){$.suspense.unmount(C,k);return}ne&&jt($,null,_,"beforeUnmount"),K&64?$.type.remove($,_,C,Ge,k):R&&!R.hasOnce&&(I!==He||H>0&&H&64)?Oe(R,_,C,!1,!0):(I===He&&H&384||!E&&K&16)&&Oe(N,_,C),k&&Bt($)}(ue&&(ce=D&&D.onVnodeUnmounted)||ne)&&Fe(()=>{ce&&rt(ce,_,$),ne&&jt($,null,_,"unmounted")},C)},Bt=$=>{const{type:_,el:C,anchor:k,transition:E}=$;if(_===He){tt(C,k);return}if(_===cs){T($);return}const I=()=>{s(C),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if($.shapeFlag&1&&E&&!E.persisted){const{leave:D,delayLeave:O}=E,N=()=>D(C,I);O?O($.el,I,N):N()}else I()},tt=($,_)=>{let C;for(;$!==_;)C=p($),s($),$=C;s(_)},$t=($,_,C)=>{const{bum:k,scope:E,job:I,subTree:D,um:O,m:N,a:R}=$;Ei(N),Ei(R),k&&zs(k),E.stop(),I&&(I.flags|=8,Ce(D,$,_,C)),O&&Fe(O,_),Fe(()=>{$.isUnmounted=!0},_)},Oe=($,_,C,k=!1,E=!1,I=0)=>{for(let D=I;D<$.length;D++)Ce($[D],_,C,k,E)},Be=$=>{if($.shapeFlag&6)return Be($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const _=p($.anchor||$.el),C=_&&_[eu];return C?p(C):_};let Je=!1;const nt=($,_,C)=>{$==null?_._vnode&&Ce(_._vnode,null,null,!0):y(_._vnode||null,$,_,null,null,null,C),_._vnode=$,Je||(Je=!0,Ti(),pc(),Je=!1)},Ge={p:y,um:Ce,m:Ne,r:Bt,mt:B,mc:V,pc:Z,pbc:m,n:Be,o:e};return{render:nt,hydrate:void 0,createApp:vu(nt)}}function to({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Vt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ru(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Gc(e,t,n=!1){const o=e.children,s=t.children;if(q(o)&&q(s))for(let i=0;i<o.length;i++){const r=o[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=Rt(s[i]),c.el=r.el),!n&&c.patchFlag!==-2&&Gc(r,c)),c.type===Fs&&c.patchFlag!==-1&&(c.el=r.el),c.type===Le&&!c.el&&(c.el=r.el)}}function ku(e){const t=e.slice(),n=[0];let o,s,i,r,c;const a=e.length;for(o=0;o<a;o++){const u=e[o];if(u!==0){if(s=n[n.length-1],e[s]<u){t[o]=s,n.push(o);continue}for(i=0,r=n.length-1;i<r;)c=i+r>>1,e[n[c]]<u?i=c+1:r=c;u<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function Dc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Dc(t)}function Ei(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Pu=Symbol.for("v-scx"),Nu=()=>is(Pu);function rs(e,t,n){return Fc(e,t,n)}function Fc(e,t,n=le){const{immediate:o,deep:s,flush:i,once:r}=n,c=ye({},n),a=t&&o||!t&&i!=="post";let u;if(jn){if(i==="sync"){const d=Nu();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!a){const d=()=>{};return d.stop=ut,d.resume=ut,d.pause=ut,d}}const l=Ae;c.call=(d,w,y)=>Qe(d,l,w,y);let f=!1;i==="post"?c.scheduler=d=>{Fe(d,l&&l.suspense)}:i!=="sync"&&(f=!0,c.scheduler=(d,w)=>{w?d():ei(d)}),c.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,l&&(d.id=l.uid,d.i=l))};const p=Jl(e,t,c);return jn&&(u?u.push(p):a&&p()),p}function Ou(e,t,n){const o=this.proxy,s=me(e)?e.includes(".")?Hc(o,e):()=>o[e]:e.bind(o,o);let i;Y(t)?i=t:(i=t.handler,n=t);const r=zn(this),c=Fc(s,i.bind(o),n);return r(),c}function Hc(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const Gu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Gt(t)}Modifiers`]||e[`${Qt(t)}Modifiers`];function Du(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||le;let s=n;const i=t.startsWith("update:"),r=i&&Gu(o,t.slice(7));r&&(r.trim&&(s=n.map(l=>me(l)?l.trim():l)),r.number&&(s=n.map($l)));let c,a=o[c=Ws(t)]||o[c=Ws(Gt(t))];!a&&i&&(a=o[c=Ws(Qt(t))]),a&&Qe(a,e,6,s);const u=o[c+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Qe(u,e,6,s)}}const Fu=new WeakMap;function Uc(e,t,n=!1){const o=n?Fu:t.emitsCache,s=o.get(e);if(s!==void 0)return s;const i=e.emits;let r={},c=!1;if(!Y(e)){const a=u=>{const l=Uc(u,t,!0);l&&(c=!0,ye(r,l))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!c?(de(e)&&o.set(e,null),null):(q(i)?i.forEach(a=>r[a]=null):ye(r,i),de(e)&&o.set(e,r),r)}function Ds(e,t){return!e||!As(t)?!1:(t=t.slice(2).replace(/Once$/,""),re(e,t[0].toLowerCase()+t.slice(1))||re(e,Qt(t))||re(e,t))}function Ri(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[i],slots:r,attrs:c,emit:a,render:u,renderCache:l,props:f,data:p,setupState:d,ctx:w,inheritAttrs:y}=e,x=ws(e);let S,b;try{if(n.shapeFlag&4){const T=s||o,G=T;S=lt(u.call(G,T,l,f,d,p,w)),b=c}else{const T=t;S=lt(T.length>1?T(f,{attrs:c,slots:r,emit:a}):T(f,null)),b=t.props?c:Hu(c)}}catch(T){Pn.length=0,Ps(T,e,1),S=we(Le)}let g=S;if(b&&y!==!1){const T=Object.keys(b),{shapeFlag:G}=g;T.length&&G&7&&(i&&T.some(jo)&&(b=Uu(b,i)),g=Ht(g,b,!1,!0))}return n.dirs&&(g=Ht(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Un(g,n.transition),S=g,ws(x),S}const Hu=e=>{let t;for(const n in e)(n==="class"||n==="style"||As(n))&&((t||(t={}))[n]=e[n]);return t},Uu=(e,t)=>{const n={};for(const o in e)(!jo(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Bu(e,t,n){const{props:o,children:s,component:i}=e,{props:r,children:c,patchFlag:a}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?ki(o,r,u):!!r;if(a&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const p=l[f];if(r[p]!==o[p]&&!Ds(u,p))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:o===r?!1:o?r?ki(o,r,u):!0:!!r;return!1}function ki(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const i=o[s];if(t[i]!==e[i]&&!Ds(n,i))return!0}return!1}function ju({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Bc=e=>e.__isSuspense;function Vu(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):Ql(e)}const He=Symbol.for("v-fgt"),Fs=Symbol.for("v-txt"),Le=Symbol.for("v-cmt"),cs=Symbol.for("v-stc"),Pn=[];let Ue=null;function se(e=!1){Pn.push(Ue=e?null:[])}function Ku(){Pn.pop(),Ue=Pn[Pn.length-1]||null}let Bn=1;function Ts(e,t=!1){Bn+=e,e<0&&Ue&&t&&(Ue.hasOnce=!0)}function jc(e){return e.dynamicChildren=Bn>0?Ue||an:null,Ku(),Bn>0&&Ue&&Ue.push(e),e}function ie(e,t,n,o,s,i){return jc(v(e,t,n,o,s,i,!0))}function si(e,t,n,o,s){return jc(we(e,t,n,o,s,!0))}function Ms(e){return e?e.__v_isVNode===!0:!1}function Xt(e,t){return e.type===t.type&&e.key===t.key}const Vc=({key:e})=>e??null,as=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||Te(e)||Y(e)?{i:ze,r:e,k:t,f:!!n}:e:null);function v(e,t=null,n=null,o=0,s=null,i=e===He?0:1,r=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vc(t),ref:t&&as(t),scopeId:$c,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ze};return c?(oi(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=me(n)?8:16),Bn>0&&!r&&Ue&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&Ue.push(a),a}const we=Wu;function Wu(e,t=null,n=null,o=0,s=null,i=!1){if((!e||e===$u)&&(e=Le),Ms(e)){const c=Ht(e,t,!0);return n&&oi(c,n),Bn>0&&!i&&Ue&&(c.shapeFlag&6?Ue[Ue.indexOf(e)]=c:Ue.push(c)),c.patchFlag=-2,c}if(sf(e)&&(e=e.__vccOpts),t){t=zu(t);let{class:c,style:a}=t;c&&!me(c)&&(t.class=Dt(c)),de(a)&&(Qo(a)&&!q(a)&&(a=ye({},a)),t.style=kt(a))}const r=me(e)?1:Bc(e)?128:mc(e)?64:de(e)?4:Y(e)?2:0;return v(e,t,n,o,s,r,i,!0)}function zu(e){return e?Qo(e)||Ec(e)?ye({},e):e:null}function Ht(e,t,n=!1,o=!1){const{props:s,ref:i,patchFlag:r,children:c,transition:a}=e,u=t?Xu(s||{},t):s,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Vc(u),ref:t&&t.ref?n&&i?q(i)?i.concat(as(t)):[i,as(t)]:as(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==He?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ht(e.ssContent),ssFallback:e.ssFallback&&Ht(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&Un(l,a.clone(l)),l}function qu(e=" ",t=0){return we(Fs,null,e,t)}function no(e,t){const n=we(cs,null,e);return n.staticCount=t,n}function Tt(e="",t=!1){return t?(se(),si(Le,null,e)):we(Le,null,e)}function lt(e){return e==null||typeof e=="boolean"?we(Le):q(e)?we(He,null,e.slice()):Ms(e)?Rt(e):we(Fs,null,String(e))}function Rt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ht(e)}function oi(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(q(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),oi(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Ec(t)?t._ctx=ze:s===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Y(t)?(t={default:t,_ctx:ze},n=32):(t=String(t),o&64?(n=16,t=[qu(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xu(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=Dt([t.class,o.class]));else if(s==="style")t.style=kt([t.style,o.style]);else if(As(s)){const i=t[s],r=o[s];r&&i!==r&&!(q(i)&&i.includes(r))&&(t[s]=i?[].concat(i,r):r)}else s!==""&&(t[s]=o[s])}return t}function rt(e,t,n,o=null){Qe(e,t,7,[n,o])}const Ju=Lc();let Yu=0;function Zu(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||Ju,i={uid:Yu++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kc(o,s),emitsOptions:Uc(o,s),emit:null,emitted:null,propsDefaults:le,inheritAttrs:o.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Du.bind(null,i),e.ce&&e.ce(i),i}let Ae=null;const Kc=()=>Ae||ze;let Cs,Io;{const e=Rs(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),i=>{s.length>1?s.forEach(r=>r(i)):s[0](i)}};Cs=t("__VUE_INSTANCE_SETTERS__",n=>Ae=n),Io=t("__VUE_SSR_SETTERS__",n=>jn=n)}const zn=e=>{const t=Ae;return Cs(e),e.scope.on(),()=>{e.scope.off(),Cs(t)}},Pi=()=>{Ae&&Ae.scope.off(),Cs(null)};function Wc(e){return e.vnode.shapeFlag&4}let jn=!1;function Qu(e,t=!1,n=!1){t&&Io(t);const{props:o,children:s}=e.vnode,i=Wc(e);Mu(e,o,i,t),Lu(e,s,n||t);const r=i?ef(e,t):void 0;return t&&Io(!1),r}function ef(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,_u);const{setup:o}=n;if(o){Ct();const s=e.setupContext=o.length>1?nf(e):null,i=zn(e),r=Wn(o,e,0,[e.props,s]),c=Hr(r);if(xt(),i(),(c||e.sp)&&!Rn(e)&&Tc(e),c){if(r.then(Pi,Pi),t)return r.then(a=>{Ni(e,a)}).catch(a=>{Ps(a,e,0)});e.asyncDep=r}else Ni(e,r)}else zc(e)}function Ni(e,t,n){Y(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=lc(t)),zc(e)}function zc(e,t,n){const o=e.type;e.render||(e.render=o.render||ut);{const s=zn(e);Ct();try{hu(e)}finally{xt(),s()}}}const tf={get(e,t){return ve(e,"get",""),e[t]}};function nf(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,tf),slots:e.slots,emit:e.emit,expose:t}}function Hs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(lc(jl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in kn)return kn[n](e)},has(t,n){return n in t||n in kn}})):e.proxy}function sf(e){return Y(e)&&"__vccOpts"in e}const of=(e,t)=>ql(e,t,jn);function rf(e,t,n){const o=(i,r,c)=>{Ts(-1);try{return we(i,r,c)}finally{Ts(1)}},s=arguments.length;return s===2?de(t)&&!q(t)?Ms(t)?o(e,null,[t]):o(e,t):o(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ms(n)&&(n=[n]),o(e,t,n))}const cf="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eo;const Oi=typeof window<"u"&&window.trustedTypes;if(Oi)try{Eo=Oi.createPolicy("vue",{createHTML:e=>e})}catch{}const qc=Eo?e=>Eo.createHTML(e):e=>e,af="http://www.w3.org/2000/svg",lf="http://www.w3.org/1998/Math/MathML",mt=typeof document<"u"?document:null,Gi=mt&&mt.createElement("template"),uf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?mt.createElementNS(af,e):t==="mathml"?mt.createElementNS(lf,e):n?mt.createElement(e,{is:n}):mt.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>mt.createTextNode(e),createComment:e=>mt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,i){const r=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Gi.innerHTML=qc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const c=Gi.content;if(o==="svg"||o==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Lt="transition",yn="animation",Vn=Symbol("_vtc"),Xc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ff=ye({},gc,Xc),pf=e=>(e.displayName="Transition",e.props=ff,e),df=pf((e,{slots:t})=>rf(su,$f(e),t)),Kt=(e,t=[])=>{q(e)?e.forEach(n=>n(...t)):e&&e(...t)},Di=e=>e?q(e)?e.some(t=>t.length>1):e.length>1:!1;function $f(e){const t={};for(const L in e)L in Xc||(t[L]=e[L]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:u=r,appearToClass:l=c,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,w=_f(s),y=w&&w[0],x=w&&w[1],{onBeforeEnter:S,onEnter:b,onEnterCancelled:g,onLeave:T,onLeaveCancelled:G,onBeforeAppear:A=S,onAppear:U=b,onAppearCancelled:V=g}=t,M=(L,F,B,W)=>{L._enterCancelled=W,Wt(L,F?l:c),Wt(L,F?u:r),B&&B()},m=(L,F)=>{L._isLeaving=!1,Wt(L,f),Wt(L,d),Wt(L,p),F&&F()},P=L=>(F,B)=>{const W=L?U:b,J=()=>M(F,L,B);Kt(W,[F,J]),Fi(()=>{Wt(F,L?a:i),ht(F,L?l:c),Di(W)||Hi(F,o,y,J)})};return ye(t,{onBeforeEnter(L){Kt(S,[L]),ht(L,i),ht(L,r)},onBeforeAppear(L){Kt(A,[L]),ht(L,a),ht(L,u)},onEnter:P(!1),onAppear:P(!0),onLeave(L,F){L._isLeaving=!0;const B=()=>m(L,F);ht(L,f),L._enterCancelled?(ht(L,p),ji()):(ji(),ht(L,p)),Fi(()=>{L._isLeaving&&(Wt(L,f),ht(L,d),Di(T)||Hi(L,o,x,B))}),Kt(T,[L,B])},onEnterCancelled(L){M(L,!1,void 0,!0),Kt(g,[L])},onAppearCancelled(L){M(L,!0,void 0,!0),Kt(V,[L])},onLeaveCancelled(L){m(L),Kt(G,[L])}})}function _f(e){if(e==null)return null;if(de(e))return[so(e.enter),so(e.leave)];{const t=so(e);return[t,t]}}function so(e){return _l(e)}function ht(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Vn]||(e[Vn]=new Set)).add(t)}function Wt(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Vn];n&&(n.delete(t),n.size||(e[Vn]=void 0))}function Fi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let hf=0;function Hi(e,t,n,o){const s=e._endId=++hf,i=()=>{s===e._endId&&o()};if(n!=null)return setTimeout(i,n);const{type:r,timeout:c,propCount:a}=mf(e,t);if(!r)return o();const u=r+"end";let l=0;const f=()=>{e.removeEventListener(u,p),i()},p=d=>{d.target===e&&++l>=a&&f()};setTimeout(()=>{l<a&&f()},c+1),e.addEventListener(u,p)}function mf(e,t){const n=window.getComputedStyle(e),o=w=>(n[w]||"").split(", "),s=o(`${Lt}Delay`),i=o(`${Lt}Duration`),r=Ui(s,i),c=o(`${yn}Delay`),a=o(`${yn}Duration`),u=Ui(c,a);let l=null,f=0,p=0;t===Lt?r>0&&(l=Lt,f=r,p=i.length):t===yn?u>0&&(l=yn,f=u,p=a.length):(f=Math.max(r,u),l=f>0?r>u?Lt:yn:null,p=l?l===Lt?i.length:a.length:0);const d=l===Lt&&/\b(?:transform|all)(?:,|$)/.test(o(`${Lt}Property`).toString());return{type:l,timeout:f,propCount:p,hasTransform:d}}function Ui(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Bi(n)+Bi(e[o])))}function Bi(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ji(){return document.body.offsetHeight}function gf(e,t,n){const o=e[Vn];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xs=Symbol("_vod"),Jc=Symbol("_vsh"),Yc={name:"show",beforeMount(e,{value:t},{transition:n}){e[xs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):vn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),vn(e,!0),o.enter(e)):o.leave(e,()=>{vn(e,!1)}):vn(e,t))},beforeUnmount(e,{value:t}){vn(e,t)}};function vn(e,t){e.style.display=t?e[xs]:"none",e[Jc]=!t}const bf=Symbol(""),wf=/(?:^|;)\s*display\s*:/;function yf(e,t,n){const o=e.style,s=me(n);let i=!1;if(n&&!s){if(t)if(me(t))for(const r of t.split(";")){const c=r.slice(0,r.indexOf(":")).trim();n[c]==null&&ls(o,c,"")}else for(const r in t)n[r]==null&&ls(o,r,"");for(const r in n)r==="display"&&(i=!0),ls(o,r,n[r])}else if(s){if(t!==n){const r=o[bf];r&&(n+=";"+r),o.cssText=n,i=wf.test(n)}}else t&&e.removeAttribute("style");xs in e&&(e[xs]=i?o.display:"",e[Jc]&&(o.display="none"))}const Vi=/\s*!important$/;function ls(e,t,n){if(q(n))n.forEach(o=>ls(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=vf(e,t);Vi.test(n)?e.setProperty(Qt(o),n.replace(Vi,""),"important"):e[o]=n}}const Ki=["Webkit","Moz","ms"],oo={};function vf(e,t){const n=oo[t];if(n)return n;let o=Gt(t);if(o!=="filter"&&o in e)return oo[t]=o;o=jr(o);for(let s=0;s<Ki.length;s++){const i=Ki[s]+o;if(i in e)return oo[t]=i}return t}const Wi="http://www.w3.org/1999/xlink";function zi(e,t,n,o,s,i=yl(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Wi,t.slice(6,t.length)):e.setAttributeNS(Wi,t,n):n==null||i&&!Kr(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Ut(n)?String(n):n)}function qi(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?qc(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(c!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Kr(n):n==null&&c==="string"?(n="",r=!0):c==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(s||t)}function Tf(e,t,n,o){e.addEventListener(t,n,o)}function Mf(e,t,n,o){e.removeEventListener(t,n,o)}const Xi=Symbol("_vei");function Cf(e,t,n,o,s=null){const i=e[Xi]||(e[Xi]={}),r=i[t];if(o&&r)r.value=o;else{const[c,a]=xf(t);if(o){const u=i[t]=Af(o,s);Tf(e,c,u,a)}else r&&(Mf(e,c,r,a),i[t]=void 0)}}const Ji=/(?:Once|Passive|Capture)$/;function xf(e){let t;if(Ji.test(e)){t={};let o;for(;o=e.match(Ji);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qt(e.slice(2)),t]}let io=0;const Sf=Promise.resolve(),Lf=()=>io||(Sf.then(()=>io=0),io=Date.now());function Af(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Qe(If(o,n.value),t,5,[o])};return n.value=e,n.attached=Lf(),n}function If(e,t){if(q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const Yi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ef=(e,t,n,o,s,i)=>{const r=s==="svg";t==="class"?gf(e,o,r):t==="style"?yf(e,n,o):As(t)?jo(t)||Cf(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Rf(e,t,o,r))?(qi(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&zi(e,t,o,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!me(o))?qi(e,Gt(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),zi(e,t,o,r))};function Rf(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yi(t)&&Y(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Yi(t)&&me(n)?!1:t in e}const kf=["ctrl","shift","alt","meta"],Pf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kf.some(n=>e[`${n}Key`]&&!t.includes(n))},ro=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(s,...i)=>{for(let r=0;r<t.length;r++){const c=Pf[t[r]];if(c&&c(s,t))return}return e(s,...i)})},Nf=ye({patchProp:Ef},uf);let Zi;function Of(){return Zi||(Zi=Iu(Nf))}const Qi=(...e)=>{const t=Of().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=Df(o);if(!s)return;const i=t._component;!Y(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const r=n(s,!1,Gf(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r},t};function Gf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Df(e){return me(e)?document.querySelector(e):e}const us={maxRetries:3,retryDelay:1e3,timeout:1e4};let co=null;const dn={enabled:!0,maxCacheSize:50*1024*1024,cachePrefix:"mgpic_",version:"1.0.0",loadInterval:50,batchSize:3};class Ff{constructor(){this.cache=new Map,this.totalSize=0}isSupported(){return"caches"in window}getCacheName(){return`${dn.cachePrefix}${dn.version}`}async isCached(t){if(!this.isSupported())return!1;try{return await(await caches.open(this.getCacheName())).match(t)!==void 0}catch(n){return console.warn(":",n.message),!1}}async cacheResource(t,n){if(!this.isSupported())return!1;try{const o=await caches.open(this.getCacheName());if(await o.match(t))return console.log(`: ${t}`),!0;await o.put(t,n.clone());const i=n.headers.get("content-length");return i&&(this.totalSize+=parseInt(i)),console.log(`: ${t}`),!0}catch(o){return console.warn(":",o.message),!1}}async getCachedResource(t){if(!this.isSupported())return null;try{return await(await caches.open(this.getCacheName())).match(t)}catch(n){return console.warn(":",n.message),null}}async cleanupCache(){if(this.isSupported())try{const t=await caches.keys(),n=this.getCacheName();for(const o of t)o.startsWith(dn.cachePrefix)&&o!==n&&(await caches.delete(o),console.log(`: ${o}`))}catch(t){console.warn(":",t.message)}}}const qe=new Ff;let es=null;function Hf(){return es||(console.log("R2 URL"),es="https://pub-6f9181bda40946ea92b5e87fe84e27d4.r2.dev",es)}function _e(e){let t=e;e.startsWith("/assets/")&&(t=e.slice(7));const n=Hf(),o=t.startsWith("/")?t.slice(1):t;return`${n}/${o}`}async function Uf(e,t={}){if(qe.isSupported()){const s=await qe.getCachedResource(e);if(s)return console.log(` Cache Storage : ${e}`),s}const{maxRetries:n=us.maxRetries,retryDelay:o=us.retryDelay}=t;for(let s=1;s<=n;s++)try{console.log(` (${s}/${n}): ${e}`);const i=new AbortController,r=setTimeout(()=>i.abort(),us.timeout),c=await fetch(e,{method:"GET",mode:"cors",credentials:"omit",cache:"no-cache",signal:i.signal,...t});if(clearTimeout(r),c.ok)return qe.isSupported()&&await qe.cacheResource(e,c),console.log(`: ${e}`),c;throw new Error(`HTTP ${c.status}: ${c.statusText}`)}catch(i){if(console.warn(` (${s}/${n}): ${e}`,i.message),s===n)throw console.error(`: ${e}`,i.message),i;const r=o*s;console.log(` ${r}ms ...`),await new Promise(c=>setTimeout(c,r))}}async function Bf(e=["high","medium"]){try{if(co){console.log("");const i=er(co,e);return console.log(` ${i.length}  (: ${e.join(", ")})`),i}const t=_e("asset-list.json");console.log(` R2 CDN : ${t}`);const n=await Uf(t);if(!n.ok)throw new Error(`: HTTP ${n.status}`);const o=await n.json();co=o,console.log("");const s=er(o,e);return console.log(` ${s.length}  (: ${e.join(", ")})`),s}catch(t){return console.warn(":",t.message),["logo.glb","frontend_resource/start_game.webp","frontend_resource/copper_warehouse.webp","frontend_resource/game_wiki.webp","frontend_resource/Tutorial.webp","frontend_resource/gacha.webp"]}}function er(e,t){const n=[];for(const o of t)if(e.categories&&e.categories[o]){const s=e.categories[o].resources||[];n.push(...s.map(i=>i.path))}return n}async function Ro(e=null,t=["high","medium"]){console.log("..."),await qe.cleanupCache();const n=await Bf(t),o=dn.batchSize,s=dn.loadInterval,i=n.length;let r=0;e&&e(0,i,0);for(let c=0;c<n.length;c+=o){const a=n.slice(c,c+o);console.log(` ${Math.floor(c/o)+1}/${Math.ceil(n.length/o)}: ${a.length} `);const u=a.map(async(x,S)=>{const b=_e(x);try{if(await qe.isCached(b))return console.log(`Cache Storage: ${x}`),{success:!0,path:x,cached:!0,source:"cache"};const T=new AbortController,G=setTimeout(()=>T.abort(),us.timeout),A=await fetch(b,{method:"GET",mode:"cors",credentials:"omit",cache:"no-cache",signal:T.signal});if(clearTimeout(G),A.ok){const U=A.headers.get("x-cache")||A.headers.get("cf-cache-status")||A.type==="basic"&&!A.redirected;return qe.isSupported()&&await qe.cacheResource(b,A),console.log(`: ${x}${U?" ()":""}`),{success:!0,path:x,cached:!1,fromBrowserCache:!!U}}else throw new Error(`HTTP ${A.status}: ${A.statusText}`)}catch(g){return console.warn(`: ${x}`,g.message),{success:!1,path:x,error:g.message}}}),l=await Promise.all(u);r+=a.length;const f=Math.round(r/i*100);e&&e(r,i,f);const p=l.filter(x=>x.success).length,d=l.filter(x=>x.cached).length,w=l.filter(x=>x.fromBrowserCache).length,y=l.filter(x=>!x.success).length;console.log(`:  ${p}, Cache Storage ${d},  ${w},  ${y}`),c+o<n.length&&(console.log(` ${s}ms ...`),await new Promise(x=>setTimeout(x,s)))}console.log(""),e&&e(i,i,100)}async function jf(){if(!qe.isSupported())return{supported:!1,message:"API"};try{const t=await(await caches.open(qe.getCacheName())).keys();return{supported:!0,cacheName:qe.getCacheName(),resourceCount:t.length,totalSize:qe.totalSize,maxSize:dn.maxCacheSize}}catch(e){return{supported:!0,error:e.message}}}const en=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},Vf={class:"menu"},Kf={__name:"Hall",emits:["startGame","openWarehouse","openTutorial","openEncyclopedia"],setup(e,{emit:t}){const n=t;function o(){n("startGame")}function s(){n("openWarehouse")}function i(){n("openTutorial")}function r(){n("openEncyclopedia")}const c=Q(_e("img/hall/start_game.webp")),a=Q(_e("img/hall/warehouse.webp")),u=Q(_e("img/hall/wiki.webp")),l=Q(_e("img/hall/tutorial.webp"));return Nt(async()=>{try{if(window.getCacheStatus){const p=await window.getCacheStatus();console.log(":",p)}const f=[c.value,a.value,u.value,l.value];for(let p=0;p<f.length;p++){const d=f[p];try{const w=new Image;w.crossOrigin="anonymous",w.src=d,await new Promise((y,x)=>{w.onload=y,w.onerror=x}),console.log(":",d),p<f.length-1&&await new Promise(y=>setTimeout(y,100))}catch(w){console.warn(":",d,w.message)}}}catch(f){console.warn(":",f.message)}}),(f,p)=>(se(),ie("div",Vf,[v("button",{class:"tile tile--start",style:kt({backgroundImage:`url('${c.value}')`}),onClick:o},[...p[0]||(p[0]=[v("div",{class:"tile__mask"},null,-1),v("div",{class:"tile__caption tile__caption--bottom"},[v("div",{class:"tile__title"},""),v("div",{class:"tile__subtitle"},"Start Game")],-1)])],4),v("button",{class:"tile tile--warehouse",style:kt({backgroundImage:`url('${a.value}')`}),onClick:s},[...p[1]||(p[1]=[v("div",{class:"tile__mask"},null,-1),v("div",{class:"tile__caption tile__caption--top"},[v("div",{class:"tile__title"},""),v("div",{class:"tile__subtitle"},"Copper Warehouse")],-1)])],4),v("button",{class:"tile tile--wiki",style:kt({backgroundImage:`url('${u.value}')`}),onClick:r},[...p[2]||(p[2]=[v("div",{class:"tile__mask"},null,-1),v("div",{class:"tile__caption tile__caption--bottom"},[v("div",{class:"tile__title"},""),v("div",{class:"tile__subtitle"},"Game Wiki")],-1)])],4),v("button",{class:"tile tile--tutorial",style:kt({backgroundImage:`url('${l.value}')`}),onClick:i},[...p[3]||(p[3]=[v("div",{class:"tile__mask"},null,-1),v("div",{class:"tile__caption tile__caption--top"},[v("div",{class:"tile__title"},""),v("div",{class:"tile__subtitle"},"Tutorial")],-1)])],4)]))}},Wf=en(Kf,[["__scopeId","data-v-c2fd0068"]]),tr={hi:0,lo:1},nr={hi:0,lo:0};class zf extends Error{}function Me(){throw new zf}function dt(e,t){const n=new Array(e);return n.fill(t),n}function h(e,t){if(t<0||t>=e.length)throw new Error("Index out of bounds")}const qf=e=>e.slice(0),$n={$tag:0};function Kn(e,t){this._0=e,this._1=t}Kn.prototype.$tag=1;function Us(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}function Xf(e){return e>>>=0,e===0?32:(e&=-e,31-Math.clz32(e))}function Zt(e,t,n){this._0=e,this._1=t,this._2=n}Zt.prototype.$tag=0;function Ot(e,t,n){this._0=e,this._1=t,this._2=n}Ot.prototype.$tag=1;function hn(e){this._0=e}hn.prototype.$tag=2;const ao={hi:0,lo:-1},Jf=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,49,50,51,52,53,54]),Yf={$tag:1},Zf={$tag:2};function ii(e,t){this._0=e,this._1=t}ii.prototype.$tag=3;function $e(e){this._0=e}$e.prototype.$tag=4;function Zc(e){this._0=e}Zc.prototype.$tag=5;function Ie(e){this._0=e}Ie.prototype.$tag=6;const Qf=()=>{if(crypto!=null&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]|0}else return Math.floor(Math.random()*4294967296)|0},Qc=(e,t)=>{e.push(t)},ep=function e(){return e._exports?e._exports:e._exports=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports},tp=(e,t)=>{const n=e.hi>>>0,o=t.hi>>>0;if(n<o)return-1;if(n>o)return 1;const s=e.lo>>>0,i=t.lo>>>0;return s<i?-1:s>i?1:0},np="",sp="",op="/assets/copper/iron_wall/rocky/rocky.webp",ip="/assets/copper/iron_wall/rocky/rocky.glb",rp="",cp="",ap="/assets/copper/iron_wall/wesley/wesley.webp",lp="/assets/copper/iron_wall/wesley/wesley.glb",up="",fp="",pp="/assets/copper/iron_wall/bell/bell.webp",dp="/assets/copper/iron_wall/bell/bell.glb",$p="",_p="",hp="/assets/copper/iron_wall/tumble/tumble.webp",mp="/assets/copper/iron_wall/tumble/tumble.glb",gp="",bp="",wp="/assets/copper/iron_wall/chief/chief.webp",yp="/assets/copper/iron_wall/chief/chief.glb",vp="",Tp="1001",Mp="/assets/copper/arcanist/spark/spark.webp",Cp="/assets/copper/arcanist/spark/spark.glb",xp="",Sp="",Lp="/assets/copper/arcanist/syrup/syrup.webp",Ap="/assets/copper/arcanist/syrup/syrup.glb",Ip="",Ep="",Rp="/assets/copper/arcanist/bubble/bubble.webp",kp="/assets/copper/arcanist/bubble/bubble.glb",Pp="",Np="",Op="/assets/copper/arcanist/glimmer/glimmer.webp",Gp="/assets/copper/arcanist/glimmer/glimmer.glb",Dp="",Fp="",Hp="/assets/copper/arcanist/turner/turner.webp",Up="/assets/copper/arcanist/turner/turner.glb",Bp="",jp="",Vp="/assets/copper/resonator/murmur/murmur.webp",Kp="/assets/copper/resonator/murmur/murmur.glb",Wp="",zp="",qp="/assets/copper/resonator/melody/melody.webp",Xp="/assets/copper/resonator/melody/melody.glb",Jp="",Yp="",Zp="/assets/copper/resonator/clawsteak/clawsteak.webp",Qp="/assets/copper/resonator/clawsteak/clawsteak.glb",ed="",td=" 3*3 ",nd="/assets/copper/resonator/diggs/diggs.webp",sd="/assets/copper/resonator/diggs/diggs.glb",od="",id="",rd="/assets/copper/resonator/hive/hive.webp",cd="/assets/copper/resonator/hive/hive.glb",ad="",ld="",ud="/assets/copper/mechanic/gyro/gyro.webp",fd="/assets/copper/mechanic/gyro/gyro.glb",pd="",dd="",$d="/assets/copper/mechanic/tricky/tricky.webp",_d="/assets/copper/mechanic/tricky/tricky.glb",hd="",md="",gd="/assets/copper/mechanic/pendulum/pendulum.webp",bd="/assets/copper/mechanic/pendulum/pendulum.glb",wd="",yd="",vd="/assets/copper/mechanic/yoyo/yoyo.webp",Td="/assets/copper/mechanic/yoyo/yoyo.glb",Md="",Cd="",xd="/assets/copper/mechanic/karin/karin.webp",Sd="/assets/copper/mechanic/karin/karin.glb",Ld="",Ad="",Id="/assets/copper/craftsman/wrench/wrench.webp",Ed="/assets/copper/craftsman/wrench/wrench.glb",Rd="",kd="",Pd="/assets/copper/craftsman/coil/coil.webp",Nd="/assets/copper/craftsman/coil/coil.glb",Od="",Gd="",Dd="/assets/copper/craftsman/artifex/artifex.webp",Fd="/assets/copper/craftsman/artifex/artifex.glb",Hd="",Ud="",Bd="/assets/copper/craftsman/drillbit/drillbit.webp",jd="/assets/copper/craftsman/drillbit/drillbit.glb",Vd="",Kd="",Wd="/assets/copper/craftsman/quickhand/quickhand.webp",zd="/assets/copper/craftsman/quickhand/quickhand.glb",qd={type_msg:"upgrade_cost_error",content:""},Xd={_0:2,_1:50},Jd={_0:1,_1:0},Yd={_0:4,_1:0},Zd={_0:3,_1:0},Qd={_0:0,_1:0},e$={type_msg:"resource_not_enough",content:""},t$={type_msg:"resource_not_enough",content:""},n$=Qf(),s$={name:"",description:"1082",resource_url:"/assets/copper/iron_wall/rocky/rocky_skill.webp",cool_down:10},o$={name:np,copper_type:0,description:sp,icon_url:op,model_url:ip,skill:s$},i$={name:"",description:" 20%  15% ",resource_url:"/assets/copper/iron_wall/wesley/wesley_skill.webp",cool_down:10},r$={name:rp,copper_type:0,description:cp,icon_url:ap,model_url:lp,skill:i$},c$={name:"",description:"",resource_url:"/assets/copper/iron_wall/bell/bell_skill.webp",cool_down:void 0},a$={name:up,copper_type:0,description:fp,icon_url:pp,model_url:dp,skill:c$},l$={name:"",description:" 1:1 ",resource_url:"/assets/copper/iron_wall/tumble/tumble_skill.webp",cool_down:void 0},u$={name:$p,copper_type:0,description:_p,icon_url:hp,model_url:mp,skill:l$},f$={name:"",description:" 3x3  20%  10% ",resource_url:"/assets/copper/iron_wall/chief/chief_skill.webp",cool_down:void 0},p$={name:gp,copper_type:0,description:bp,icon_url:wp,model_url:yp,skill:f$},d$={name:"",description:" 100 ",resource_url:"/assets/copper/arcanist/spark/spark_skill.webp",cool_down:20},$$={name:vp,copper_type:1,description:Tp,icon_url:Mp,model_url:Cp,skill:d$},_$={name:"",description:" 20% ",resource_url:"/assets/copper/arcanist/syrup/syrup_skill.webp",cool_down:void 0},h$={name:xp,copper_type:1,description:Sp,icon_url:Lp,model_url:Ap,skill:_$},m$={name:"",description:"",resource_url:"/assets/copper/arcanist/bubble/bubble_skill.webp",cool_down:10},g$={name:Ip,copper_type:1,description:Ep,icon_url:Rp,model_url:kp,skill:m$},b$={name:"",description:" 20% ",resource_url:"/assets/copper/arcanist/glimmer/glimmer_skill.webp",cool_down:void 0},w$={name:Pp,copper_type:1,description:Np,icon_url:Op,model_url:Gp,skill:b$},y$={name:"",description:" 200% ",resource_url:"/assets/copper/arcanist/turner/turner_skill.webp",cool_down:5},v$={name:Dp,copper_type:1,description:Fp,icon_url:Hp,model_url:Up,skill:y$},T$={name:"",description:" 20 ",resource_url:"/assets/copper/resonator/murmur/murmur_skill.webp",cool_down:void 0},M$={name:Bp,copper_type:4,description:jp,icon_url:Vp,model_url:Kp,skill:T$},C$={name:"",description:" 5 ",resource_url:"/assets/copper/resonator/melody/melody_skill.webp",cool_down:void 0},x$={name:Wp,copper_type:4,description:zp,icon_url:qp,model_url:Xp,skill:C$},S$={name:"",description:" 0 ",resource_url:"/assets/copper/resonator/clawsteak/clawsteak_skill.webp",cool_down:void 0},L$={name:Jp,copper_type:4,description:Yp,icon_url:Zp,model_url:Qp,skill:S$},A$={name:"",description:" 3*3 ",resource_url:"/assets/copper/resonator/diggs/diggs_skill.webp",cool_down:void 0},I$={name:ed,copper_type:4,description:td,icon_url:nd,model_url:sd,skill:A$},E$={name:"",description:" 10 ",resource_url:"/assets/copper/resonator/hive/hive_skill.webp",cool_down:void 0},R$={name:od,copper_type:4,description:id,icon_url:rd,model_url:cd,skill:E$},k$={name:"",description:"",resource_url:"/assets/copper/mechanic/gyro/gyro_skill.webp",cool_down:10},P$={name:ad,copper_type:3,description:ld,icon_url:ud,model_url:fd,skill:k$},N$={name:"",description:"",resource_url:"/assets/copper/mechanic/tricky/tricky_skill.webp",cool_down:10},O$={name:pd,copper_type:3,description:dd,icon_url:$d,model_url:_d,skill:N$},G$={name:"",description:"",resource_url:"/assets/copper/mechanic/pendulum/pendulum_skill.webp",cool_down:5},D$={name:hd,copper_type:3,description:md,icon_url:gd,model_url:bd,skill:G$},F$={name:"",description:" 200%",resource_url:"/assets/copper/mechanic/yoyo/yoyo_skill.webp",cool_down:3},H$={name:wd,copper_type:3,description:yd,icon_url:vd,model_url:Td,skill:F$},U$={name:"",description:"",resource_url:"/assets/copper/mechanic/karin/karin_skill.webp",cool_down:void 0},B$={name:Md,copper_type:3,description:Cd,icon_url:xd,model_url:Sd,skill:U$},j$=void 0,V$={name:Ld,copper_type:2,description:Ad,icon_url:Id,model_url:Ed,skill:j$},K$=void 0,W$={name:Rd,copper_type:2,description:kd,icon_url:Pd,model_url:Nd,skill:K$},z$=void 0,q$={name:Od,copper_type:2,description:Gd,icon_url:Dd,model_url:Fd,skill:z$},X$=void 0,J$={name:Hd,copper_type:2,description:Ud,icon_url:Bd,model_url:jd,skill:X$},Y$=void 0,Nn=[o$,r$,a$,u$,p$,$$,h$,g$,w$,v$,M$,x$,L$,I$,R$,P$,O$,D$,H$,B$,V$,W$,q$,J$,{name:Vd,copper_type:2,description:Kd,icon_url:Wd,model_url:zd,skill:Y$}],Z$=uh(e=>{const t=Nn.length;let n=0;for(;;){const o=n;if(o<t){const s=Nn[o];if(e({_0:s.name,_1:s})===1){n=o+1|0;continue}else return 0}else return 1}}),ea=ya(),Bs=am(),Q$=ya(),e_=A_(),js=jh();function ta(e){Me()}function t_(e){return Me()}function n_(e){return Me()}function s_(e){return Me()}function o_(e,t){{const n=dt(e,t(0));let o=1;for(;;){const s=o;if(s<e){h(n,s),n[s]=t(s),o=s+1|0;continue}else break}return n}}function i_(e){return qf(e)}function r_(e){return n=>{let o=e;for(;;){const s=o;if(s.$tag===0)return 1;{const i=s,r=i._0,c=i._1;if(n(r)===0)return 0;o=c;continue}}}}function c_(e,t){let n=e;for(;;){const o=n;if(o.$tag===0)return;{const s=o,i=s._0,r=i._0,c=i._1,a=s._1;if(r===t)return c;n=a;continue}}}function na(e,t){let n=e,o=0;for(;;){const s=n,i=o;if(s.$tag===0)return;{const r=s,c=r._0,a=r._1;if(t(c))return i;n=a,o=i+1|0;continue}}}function sa(e,t){if(e.$tag===0)return $n;if(t<0)return e;if(t===0)return e._1;{const n=e,o=n._0,s=n._1,i=new Kn(o,$n);let r=i,c=s,a=t-1|0;for(;;){const u=r,l=c,f=a;if(l.$tag===0)break;if(u.$tag===1){const p=u,d=l,w=d._0,y=d._1;if(f===0){p._1=y;break}else{p._1=new Kn(w,$n),r=p._1,c=y,a=f-1|0;continue}}else{Me();break}}return i}}function ts(e,t){if(t>=0&&t<e.len){const n=e.bytes,o=e.start+t|0;return h(n,o),n[o]}else return s_(`index out of bounds: the len is from 0 to ${Ke(e.len)} but the index is ${Ke(t)}`)}function a_(e,t,n){const o=e.length;let s;if(n===void 0)s=o;else{const c=n;s=c<0?o+c|0:c}const i=t<0?o+t|0:t;return i>=0&&i<=s&&s<=o?{bytes:e,start:i,len:s-i|0}:t_()}function l_(e){const t=ts(e,0),n=ts(e,1),o=(t>>>0)+(n<<8>>>0)|0,s=ts(e,2),i=(o>>>0)+(s<<16>>>0)|0,r=ts(e,3);return(i>>>0)+(r<<24>>>0)|0}function u_(e,t){return{elem_info:0|1<<e,data:[t]}}function ri(e,t){if(e.elem_info&1<<t){const o=e.data,s=e.elem_info,i=Us(s&((1<<t>>>0)-1|0));return h(o,i),o[i]}else return}function f_(e,t,n,o){return{elem_info:0|1<<e|1<<n,data:e<n?[t,o]:[o,t]}}function p_(e,t,n){const o=e.data,s=o.length,i=s+1|0,r=e.elem_info,c=Us(r&((1<<t>>>0)-1|0)),a=dt(i,n);return Ls(o,a,c,0,0),Ls(o,a,s-c|0,c,c+1|0),{elem_info:e.elem_info|1<<t,data:a}}function d_(e,t){const n=e.data,o=n.length,s=e.elem_info,i=Us(s&((1<<t>>>0)-1|0)),r=dt(o-1|0,n[0]);return Ls(n,r,i,0,0),Ls(n,r,(o-i|0)-1|0,i+1|0,i),{elem_info:e.elem_info^1<<t,data:r}}function oa(e,t,n){const o=i_(e.data),s=e.elem_info,i=Us(s&((1<<t>>>0)-1|0));return h(o,i),o[i]=n,{elem_info:e.elem_info,data:o}}function Ss(e){return H_(e)|-1073741824}function $_(e,t,n){let o=e,s=n;e:for(;;){const i=o,r=s;switch(i.$tag){case 1:{const c=i,a=c._0,u=c._1,l=c._2;return t===a?u:c_(l,t)}case 0:{const c=i,a=c._0,u=c._1,l=c._2;return r===l&&t===a?u:void 0}default:{const a=i._0,l=r&31,f=ri(a,l);if(f!==void 0){o=f,s=r>>>5|0;continue e}return}}}}function __(e,t){const n=e;if(n!==void 0)return $_(n,t,Ss(t))}function ia(e,t,n,o,s,i){const c=n&31,u=i&31;if(c===u){let l;if(n>>>0<=127){const p={_0:e,_1:t};l=new Ot(o,s,new Kn(p,$n))}else{const d=n>>>5|0;l=ia(e,t,d,o,s,i>>>5|0)}return new hn(u_(c,l))}else{let l,f;e:if(n>>>0<=127){const d=new Ot(e,t,$n),w=new Ot(o,s,$n);l=d,f=w;break e}else{const d=n,w=new Zt(e,t,d>>>5|0),y=i,x=new Zt(o,s,y>>>5|0);l=w,f=x;break e}return new hn(f_(c,l,u,f))}}function ra(e,t,n,o){switch(e.$tag){case 1:{const s=e,i=s._0,r=s._1,c=s._2;if(t===i)return new Ot(t,n,c);{const a=na(c,f=>f._0===t);let u;a===void 0?u=c:u=sa(c,a);const l={_0:i,_1:r};return new Ot(t,n,new Kn(l,u))}}case 0:{const s=e,i=s._0,r=s._1,c=s._2;return o===c&&t===i?new Zt(i,n,c):ia(i,r,c,t,n,o)}default:{const i=e._0,c=o&31,a=ri(i,c);if(a===void 0){const u=o,l=new Zt(t,n,u>>>5|0);return new hn(p_(i,c,l))}else{const p=ra(a,t,n,o>>>5|0);return new hn(oa(i,c,p))}}}}function fs(e,t,n){const o=e;return o===void 0?new Zt(t,n,Ss(t)):ra(o,t,n,Ss(t))}function ca(e,t,n){switch(e.$tag){case 1:{const o=e,s=o._0,i=o._1,r=o._2;if(s===t){if(r.$tag===0)return;{const c=r,a=c._0,u=a._0,l=a._1,f=c._1;return new Ot(u,l,f)}}else{const c=na(r,a=>a._0===t);if(c===void 0)return e;{const u=c;return new Ot(s,i,sa(r,u))}}}case 0:{const o=e,s=o._0,i=o._2;return n===i&&t===s?void 0:e}default:{const s=e._0,r=n&31,c=ri(s,r);if(c===void 0)return e;{const f=ca(c,t,n>>>5|0);let p,d;e:{t:{if(s.data.length===1){if(f===void 0)return;d=f;break t}else if(f===void 0)p=d_(s,r);else{d=f;break t}break e}p=oa(s,r,d)}e:{const w=p.data;if(w.length===1){const y=w[0];if(y.$tag===0){const x=y,S=x._0,b=x._1,g=x._2,T=p.elem_info,G=Xf(T),A=g;return new Zt(S,b,A<<5|G)}else break e}else break e}return new hn(p)}}}}function h_(e,t){const n=e;if(n!==void 0)return ca(n,t,Ss(t))}function aa(e){switch(e.$tag){case 1:{const t=e,n=t._0,o=t._1,s=t._2;return gh(ur({_0:n,_1:o}),r_(s))}case 0:{const t=e,n=t._0,o=t._1;return ur({_0:n,_1:o})}default:{const o=e._0.data;return s=>{const i=o.length;let r=0;for(;;){const c=r;if(c<i){const a=o[c];if(aa(a)(s)===1){r=c+1|0;continue}else return 0}else return 1}}}}}function m_(e){const t=e;return t===void 0?mh():aa(t)}function g_(e){const t=m_(e);return n=>t(o=>n(o._1))}function sr(e,t){const n=Xn(e.length);return y_(e)(s=>{switch(s){case 34:{ae(n,'\\"');break}case 92:{ae(n,"\\\\");break}case 47:{t?ae(n,"\\/"):ge(n,s);break}case 10:{ae(n,"\\n");break}case 13:{ae(n,"\\r");break}case 8:{ae(n,"\\b");break}case 9:{ae(n,"\\t");break}default:{const i=s;i===12?ae(n,"\\f"):i<32?(ae(n,"\\u00"),ae(n,z_(i&255))):ge(n,s)}}return 1}),n.val}function nn(e,t){return t===0?"":`
${v_(" ",Math.imul(t,e)|0)}`}function ko(e,t,n){const o=e._2,s=e._1,i=e._0;switch(t.$tag){case 6:{const c=t._0;if(c.size===0){ae(s,"{}");return}ge(s,123),ae(s,nn(n+1|0,o));const a={val:!0};lh(c)((l,f)=>(a.val?a.val=!1:(ge(s,44),ae(s,nn(n+1|0,o))),ge(s,34),ae(s,sr(l,i)),ge(s,34),o===0?ge(s,58):ae(s,": "),ko(e,f,n+1|0),1)),ae(s,nn(n,o)),ge(s,125);return}case 5:{const c=t._0;if(c.length===0){ae(s,"[]");return}ge(s,91),ae(s,nn(n+1|0,o));const a=c.length;let u=0;for(;;){const l=u;if(l<a){const f=c[l];l>0&&(ge(s,44),ae(s,nn(n+1|0,o))),ko(e,f,n+1|0),u=l+1|0;continue}else break}ae(s,nn(n,o)),ge(s,93);return}case 4:{const c=t._0;ge(s,34),ae(s,sr(c,i)),ge(s,34);return}case 3:{const r=t,c=r._0,a=r._1;if(a===void 0){W_(s,c);return}else{ae(s,a);return}}case 1:{ae(s,"true");return}case 2:{ae(s,"false");return}default:{ae(s,"null");return}}}function qn(e,t,n){const o=Xn();return ko({_0:t,_1:o,_2:n},e,0),o.val}function b_(e,t){t.method_0(t.self,String(e))}function w_(e,t){return(((Math.imul(e-55296|0,1024)|0)+t|0)-56320|0)+65536|0}function y_(e){return n=>{const o=e.length;let s=0;for(;;){const i=s;if(i<o){const r=e.charCodeAt(i);if(55296<=r&&r<=56319&&(i+1|0)<o){const a=i+1|0,u=e.charCodeAt(a);if(56320<=u&&u<=57343){const l=w_(r,u);if(n(l)===1){s=i+2|0;continue}else return 0}}if(n(r)!==1)return 0;s=i+1|0;continue}else return 1}}}function v_(e,t){if(t<=0)return"";if(t===1)return e;{const n=Xn(),o=e;let s=0;for(;;){const i=s;if(i<t){ae(n,o),s=i+1|0;continue}else break}return n.val}}function T_(e,t,n){h(t,0),t[0]=1634760805,h(t,1),t[1]=1634760805,h(t,2),t[2]=1634760805,h(t,3),t[3]=1634760805,h(t,4),t[4]=857760878,h(t,5),t[5]=857760878,h(t,6),t[6]=857760878,h(t,7),t[7]=857760878,h(t,8),t[8]=2036477234,h(t,9),t[9]=2036477234,h(t,10),t[10]=2036477234,h(t,11),t[11]=2036477234,h(t,12),t[12]=1797285236,h(t,13),t[13]=1797285236,h(t,14),t[14]=1797285236,h(t,15),t[15]=1797285236,h(e,0),h(t,16),t[16]=e[0],h(e,0),h(t,17),t[17]=e[0],h(e,0),h(t,18),t[18]=e[0],h(e,0),h(t,19),t[19]=e[0],h(e,1),h(t,20),t[20]=e[1],h(e,1),h(t,21),t[21]=e[1],h(e,1),h(t,22),t[22]=e[1],h(e,1),h(t,23),t[23]=e[1],h(e,2),h(t,24),t[24]=e[2],h(e,2),h(t,25),t[25]=e[2],h(e,2),h(t,26),t[26]=e[2],h(e,2),h(t,27),t[27]=e[2],h(e,3),h(t,28),t[28]=e[3],h(e,3),h(t,29),t[29]=e[3],h(e,3),h(t,30),t[30]=e[3],h(e,3),h(t,31),t[31]=e[3],h(e,4),h(t,32),t[32]=e[4],h(e,4),h(t,33),t[33]=e[4],h(e,4),h(t,34),t[34]=e[4],h(e,4),h(t,35),t[35]=e[4],h(e,5),h(t,36),t[36]=e[5],h(e,5),h(t,37),t[37]=e[5],h(e,5),h(t,38),t[38]=e[5],h(e,5),h(t,39),t[39]=e[5],h(e,6),h(t,40),t[40]=e[6],h(e,6),h(t,41),t[41]=e[6],h(e,6),h(t,42),t[42]=e[6],h(e,6),h(t,43),t[43]=e[6],h(e,7),h(t,44),t[44]=e[7],h(e,7),h(t,45),t[45]=e[7],h(e,7),h(t,46),t[46]=e[7],h(e,7),h(t,47),t[47]=e[7],h(t,48),t[48]=n,h(t,49),t[49]=(n>>>0)+1|0,h(t,50),t[50]=(n>>>0)+2|0,h(t,51),t[51]=(n>>>0)+3|0,h(t,52),t[52]=0,h(t,53),t[53]=0,h(t,54),t[54]=0,h(t,55),t[55]=0,h(t,56),t[56]=0,h(t,57),t[57]=0,h(t,58),t[58]=0,h(t,59),t[59]=0,h(t,60),t[60]=0,h(t,61),t[61]=0,h(t,62),t[62]=0,h(t,63),t[63]=0}function At(e){const t=e._0,n=e._1,o=e._2,s=e._3,i=(t>>>0)+(n>>>0)|0,r=s^i,c=r<<16|(r>>>16|0),a=(o>>>0)+(c>>>0)|0,u=n^a,l=u<<12|(u>>>20|0),f=(i>>>0)+(l>>>0)|0,p=c^f,d=p<<8|(p>>>24|0),w=(a>>>0)+(d>>>0)|0,y=l^w,x=y<<7|(y>>>25|0);return{_0:f,_1:x,_2:w,_3:d}}function la(e,t,n){T_(e,t,n);let o=0;for(;;){const s=o;if(s<4){h(t,s);let i=t[s];const r=4+s|0;h(t,r);let c=t[r];const a=8+s|0;h(t,a);let u=t[a];const l=12+s|0;h(t,l);let f=t[l];const p=16+s|0;h(t,p);let d=t[p];const w=20+s|0;h(t,w);let y=t[w];const x=24+s|0;h(t,x);let S=t[x];const b=28+s|0;h(t,b);let g=t[b];const T=32+s|0;h(t,T);let G=t[T];const A=36+s|0;h(t,A);let U=t[A];const V=40+s|0;h(t,V);let M=t[V];const m=44+s|0;h(t,m);let P=t[m];const L=48+s|0;h(t,L);let F=t[L];const B=52+s|0;h(t,B);let W=t[B];const J=56+s|0;h(t,J);let z=t[J];const Z=60+s|0;h(t,Z);let he=t[Z],et=0;for(;;){const E=et;if(E<4){const I=At({_0:i,_1:d,_2:G,_3:F});i=I._0,d=I._1,G=I._2,F=I._3;const D=At({_0:c,_1:y,_2:U,_3:W});c=D._0,y=D._1,U=D._2,W=D._3;const O=At({_0:u,_1:S,_2:M,_3:z});u=O._0,S=O._1,M=O._2,z=O._3;const N=At({_0:f,_1:g,_2:P,_3:he});f=N._0,g=N._1,P=N._2,he=N._3;const R=At({_0:i,_1:y,_2:M,_3:he});i=R._0,y=R._1,M=R._2,he=R._3;const K=At({_0:c,_1:S,_2:P,_3:F});c=K._0,S=K._1,P=K._2,F=K._3;const H=At({_0:u,_1:g,_2:G,_3:W});u=H._0,g=H._1,G=H._2,W=H._3;const j=At({_0:f,_1:d,_2:U,_3:z});f=j._0,d=j._1,U=j._2,z=j._3,et=E+1|0;continue}else break}h(t,s),t[s]=i;const Ne=4+s|0;h(t,Ne),t[Ne]=c;const Ce=8+s|0;h(t,Ce),t[Ce]=u;const Bt=12+s|0;h(t,Bt),t[Bt]=f;const tt=16+s|0;h(t,tt),h(t,tt),t[tt]=(t[tt]>>>0)+(d>>>0)|0;const $t=20+s|0;h(t,$t),h(t,$t),t[$t]=(t[$t]>>>0)+(y>>>0)|0;const Oe=24+s|0;h(t,Oe),h(t,Oe),t[Oe]=(t[Oe]>>>0)+(S>>>0)|0;const Be=28+s|0;h(t,Be),h(t,Be),t[Be]=(t[Be]>>>0)+(g>>>0)|0;const Je=32+s|0;h(t,Je),h(t,Je),t[Je]=(t[Je]>>>0)+(G>>>0)|0;const nt=36+s|0;h(t,nt),h(t,nt),t[nt]=(t[nt]>>>0)+(U>>>0)|0;const Ge=40+s|0;h(t,Ge),h(t,Ge),t[Ge]=(t[Ge]>>>0)+(M>>>0)|0;const gn=44+s|0;h(t,gn),h(t,gn),t[gn]=(t[gn]>>>0)+(P>>>0)|0;const $=48+s|0;h(t,$),t[$]=F;const _=52+s|0;h(t,_),t[_]=W;const C=56+s|0;h(t,C),t[C]=z;const k=60+s|0;h(t,k),t[k]=he,o=s+1|0;continue}else return}}function M_(e){const t=o_(8,s=>l_(a_(e,Math.imul(s,4)|0,(Math.imul(s,4)|0)+4|0))),n=dt(64,0);return la(t,n,0),{buffer:n,seed:t,i:0,n:32,counter:0}}function C_(e){const t=e.i;if(t>>>0>=e.n>>>0)return;e.i=(t>>>0)+1|0;const n=t&31,o=e.buffer,s=Math.imul(n,2)|0;h(o,s);const i=Po(o[s]),r=e.buffer,c=(Math.imul(n,2)|0)+1|0;h(r,c);const a=Po(r[c]);return Eh(kh(a,32),i)}function x_(e){e.counter=(e.counter>>>0)+4|0,e.counter===16&&(Dh(e.buffer,e.seed,8,56,0),e.counter=0),la(e.seed,e.buffer,e.counter),e.i=0,e.n=e.counter===12?28:32}function S_(e){for(;;){const t=C_(e);if(t!==void 0)return t;x_(e)}}function L_(e){return{self:M_(e),method_0:S_}}function A_(e){return L_(Jf)}function or(e,t){const n=On(e,ao),o=on(e,32),s=On(t,ao),i=on(t,32),r=Tn(n,s),c=ss(Tn(o,s),on(r,32)),a=ss(Tn(n,i),On(c,ao));return{hi:ss(ss(Tn(o,i),on(c,32)),on(a,32)),lo:Tn(e,t)}}function I_(e,t){if(dr(t,nr)){const s=e;return s.method_0(s.self)}else if(dr(On(t,fr(t,tr)),nr)){const s=e;return On(s.method_0(s.self),fr(t,tr))}const n=e;let o=or(n.method_0(n.self),t);if(ir(o.lo,t)){const s=Ah(Rh(t),t);for(;ir(o.lo,s);){const i=e;o=or(i.method_0(i.self),t);continue}}return o.hi}function E_(e,t){if(t===0){const n=e;return pr(n.method_0(n.self))}return pr(I_(e,Po(t)))}function R_(e,t){if(t===0){const n=e;return V_(on(n.method_0(n.self),33))}else return E_(e,t)}function ir(e,t){return Ih(e,t)<0}function k_(e,t,n,o,s){if(e===n&&t<o){let i=0;for(;;){const r=i;if(r<s){const c=t+r|0,a=o+r|0;h(n,a),h(e,c),e[c]=n[a],i=r+1|0;continue}else return}}else{let i=s-1|0;for(;;){const r=i;if(r>=0){const c=t+r|0,a=o+r|0;h(n,a),h(e,c),e[c]=n[a],i=r-1|0;continue}else return}}}function P_(e,t,n,o,s){if(e===n&&t<o){let i=0;for(;;){const r=i;if(r<s){const c=t+r|0,a=o+r|0;h(n,a),h(e,c),e[c]=n[a],i=r+1|0;continue}else return}}else{let i=s-1|0;for(;;){const r=i;if(r>=0){const c=t+r|0,a=o+r|0;h(n,a),h(e,c),e[c]=n[a],i=r-1|0;continue}else return}}}function Xn(e){return{val:""}}function ge(e,t){const n=e;n.val=`${n.val}${String.fromCodePoint(t)}`}function ae(e,t){const n=e;n.val=`${n.val}${t}`}function N_(e,t){Oh(t,e)}function O_(e,t){Fh(t,e)}function G_(e,t){Gh(t,e)}function D_(e){let t=e.acc;return t=t^(t>>>15|0),t=Math.imul(t,-2048144777)|0,t=t^(t>>>13|0),t=Math.imul(t,-1028477379)|0,t=t^(t>>>16|0),t}function ci(e){return D_(e)}function F_(e){return{acc:(e>>>0)+374761393|0}}function ai(e){let t;return t=n$,F_(t)}function li(e){const t=ai();return N_(t,e),ci(t)}function ua(e){const t=ai();return O_(t,e),ci(t)}function H_(e){const t=ai();return G_(t,e),ci(t)}function fa(e,t){const n=e._1,o=e._0,s=t/o|0;s!==0&&fa(e,s);const i=t%o|0,r=i<0?0-i|0:i;h("0123456789abcdefghijklmnopqrstuvwxyz",r),n.method_2(n.self,"0123456789abcdefghijklmnopqrstuvwxyz".charCodeAt(r))}function U_(e,t,n){e<0&&t.method_2(t.self,45),fa({_0:n,_1:t},e<0?0-e|0:e)}function B_(e){return e>=2&&e<7?36:e>=8&&e<15?18:e>=16&&e<=36?10:n_()}function j_(e,t){const n=Xn(B_(t));return U_(e,{self:n,method_0:ae,method_1:pa,method_2:ge},t),n.val}function Ke(e){return j_(e,10)}function V_(e){return e.lo}function K_(e,t,n){const o=e.length;let s;return n===void 0?s=o:s=n,t>=0&&t<=s&&s<=o?e.substring(t,s):Me()}function pa(e,t,n,o){const s=e;s.val=`${s.val}${K_(t,n,n+o|0)}`}function W_(e,t){b_(t,{self:e,method_0:ae,method_1:pa,method_2:ge})}function rr(e){return e<10?(e+48|0)&255:(((e+97|0)&255)-10|0)&255}function z_(e){const t=Xn();return ge(t,rr((e/16|0)&255)),ge(t,rr((e%16|0)&255)),t.val}function mn(e){return e>=0?e<=1?1:e>1073741824?1073741824:(2147483647>>(Math.clz32(e-1|0)-1|0))+1|0:Me()}function q_(e){const t=mn(e),n=t-1|0,o=(Math.imul(t,13)|0)/16|0;return{entries:dt(t,void 0),size:0,capacity:t,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function X_(e){const t=mn(e),n=t-1|0,o=(Math.imul(t,13)|0)/16|0;return{entries:dt(t,void 0),size:0,capacity:t,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function J_(e){const t=mn(e),n=t-1|0,o=(Math.imul(t,13)|0)/16|0;return{entries:dt(t,void 0),size:0,capacity:t,capacity_mask:n,grow_at:o,head:void 0,tail:-1}}function Y_(e,t,n){const o=e.tail;if(o===-1)e.head=n;else{const i=e.entries;h(i,o);const r=i[o];let c;r===void 0?c=Me():c=r,c.next=n}e.tail=t;const s=e.entries;h(s,t),s[t]=n,e.size=e.size+1|0}function Z_(e,t,n){const o=e.tail;if(o===-1)e.head=n;else{const i=e.entries;h(i,o);const r=i[o];let c;r===void 0?c=Me():c=r,c.next=n}e.tail=t;const s=e.entries;h(s,t),s[t]=n,e.size=e.size+1|0}function Q_(e,t,n){const o=e.tail;if(o===-1)e.head=n;else{const i=e.entries;h(i,o);const r=i[o];let c;r===void 0?c=Me():c=r,c.next=n}e.tail=t;const s=e.entries;h(s,t),s[t]=n,e.size=e.size+1|0}function cr(e,t,n){const o=e.entries;h(o,n),o[n]=t;const s=t.next;if(s===void 0){e.tail=n;return}else{const r=s;r.prev=n;return}}function ar(e,t,n){const o=e.entries;h(o,n),o[n]=t;const s=t.next;if(s===void 0){e.tail=n;return}else{const r=s;r.prev=n;return}}function lr(e,t,n){const o=e.entries;h(o,n),o[n]=t;const s=t.next;if(s===void 0){e.tail=n;return}else{const r=s;r.prev=n;return}}function eh(e,t,n){let o=n.psl+1|0,s=t+1&e.capacity_mask,i=n;for(;;){const r=o,c=s,a=i,u=e.entries;h(u,c);const l=u[c];if(l===void 0){a.psl=r,cr(e,a,c);break}else{const p=l;if(r>p.psl){a.psl=r,cr(e,a,c),o=p.psl+1|0,s=c+1&e.capacity_mask,i=p;continue}else{o=r+1|0,s=c+1&e.capacity_mask;continue}}}}function th(e,t,n){let o=n.psl+1|0,s=t+1&e.capacity_mask,i=n;for(;;){const r=o,c=s,a=i,u=e.entries;h(u,c);const l=u[c];if(l===void 0){a.psl=r,ar(e,a,c);break}else{const p=l;if(r>p.psl){a.psl=r,ar(e,a,c),o=p.psl+1|0,s=c+1&e.capacity_mask,i=p;continue}else{o=r+1|0,s=c+1&e.capacity_mask;continue}}}}function nh(e,t,n){let o=n.psl+1|0,s=t+1&e.capacity_mask,i=n;for(;;){const r=o,c=s,a=i,u=e.entries;h(u,c);const l=u[c];if(l===void 0){a.psl=r,lr(e,a,c);break}else{const p=l;if(r>p.psl){a.psl=r,lr(e,a,c),o=p.psl+1|0,s=c+1&e.capacity_mask,i=p;continue}else{o=r+1|0,s=c+1&e.capacity_mask;continue}}}}function da(e,t,n,o){e.size>=e.grow_at&&sh(e);let s,i=0,r=o&e.capacity_mask;for(;;){const p=i,d=r,w=e.entries;h(w,d);const y=w[d];if(y===void 0){s={_0:d,_1:p};break}else{const S=y;if(S.hash===o&&S.key===t){S.value=n;return}if(p>S.psl){eh(e,d,S),s={_0:d,_1:p};break}i=p+1|0,r=d+1&e.capacity_mask;continue}}const c=s._0,a=s._1,f={prev:e.tail,next:void 0,psl:a,hash:o,key:t,value:n};Y_(e,c,f)}function $a(e,t,n,o){e.size>=e.grow_at&&oh(e);let s,i=0,r=o&e.capacity_mask;for(;;){const p=i,d=r,w=e.entries;h(w,d);const y=w[d];if(y===void 0){s={_0:d,_1:p};break}else{const S=y;if(S.hash===o&&va(S.key,t)){S.value=n;return}if(p>S.psl){th(e,d,S),s={_0:d,_1:p};break}i=p+1|0,r=d+1&e.capacity_mask;continue}}const c=s._0,a=s._1,f={prev:e.tail,next:void 0,psl:a,hash:o,key:t,value:n};Z_(e,c,f)}function _a(e,t,n,o){e.size>=e.grow_at&&ih(e);let s,i=0,r=o&e.capacity_mask;for(;;){const p=i,d=r,w=e.entries;h(w,d);const y=w[d];if(y===void 0){s={_0:d,_1:p};break}else{const S=y;if(S.hash===o&&S.key===t){S.value=n;return}if(p>S.psl){nh(e,d,S),s={_0:d,_1:p};break}i=p+1|0,r=d+1&e.capacity_mask;continue}}const c=s._0,a=s._1,f={prev:e.tail,next:void 0,psl:a,hash:o,key:t,value:n};Q_(e,c,f)}function sh(e){const t=e.head,n=e.capacity<<1;e.entries=dt(n,void 0),e.capacity=n,e.capacity_mask=n-1|0;const o=e.capacity;e.grow_at=(Math.imul(o,13)|0)/16|0,e.size=0,e.head=void 0,e.tail=-1;let s=t;for(;;){const i=s;if(i===void 0)return;{const c=i,a=c.next,u=c.key,l=c.value,f=c.hash;da(e,u,l,f),s=a;continue}}}function oh(e){const t=e.head,n=e.capacity<<1;e.entries=dt(n,void 0),e.capacity=n,e.capacity_mask=n-1|0;const o=e.capacity;e.grow_at=(Math.imul(o,13)|0)/16|0,e.size=0,e.head=void 0,e.tail=-1;let s=t;for(;;){const i=s;if(i===void 0)return;{const c=i,a=c.next,u=c.key,l=c.value,f=c.hash;$a(e,u,l,f),s=a;continue}}}function ih(e){const t=e.head,n=e.capacity<<1;e.entries=dt(n,void 0),e.capacity=n,e.capacity_mask=n-1|0;const o=e.capacity;e.grow_at=(Math.imul(o,13)|0)/16|0,e.size=0,e.head=void 0,e.tail=-1;let s=t;for(;;){const i=s;if(i===void 0)return;{const c=i,a=c.next,u=c.key,l=c.value,f=c.hash;_a(e,u,l,f),s=a;continue}}}function te(e,t,n){da(e,t,n,li(t))}function ha(e,t,n){$a(e,t,n,ua(t))}function ma(e,t,n){_a(e,t,n,li(t))}function Pe(e){const t=e.length;mn(t);const n=q_(e.length),o=e.length;let s=0;for(;;){const i=s;if(i<o){const r=e[i];te(n,r._0,r._1),s=i+1|0;continue}else break}return n}function rh(e){const t=e.length;mn(t);const n=X_(e.length),o=e.length;let s=0;for(;;){const i=s;if(i<o){const r=e[i];ha(n,r._0,r._1),s=i+1|0;continue}else break}return n}function ch(e){const t=e.length;mn(t);const n=J_(e.length),o=e.length;let s=0;for(;;){const i=s;if(i<o){const r=e[i];ma(n,r._0,r._1),s=i+1|0;continue}else break}return n}function ga(e,t){const n=ua(t);let o=0,s=n&e.capacity_mask;for(;;){const i=o,r=s,c=e.entries;h(c,r);const a=c[r];if(a===void 0)return;{const l=a;if(l.hash===n&&va(l.key,t))return l.value;if(i>l.psl)return;o=i+1|0,s=r+1&e.capacity_mask;continue}}}function ah(e,t){const n=li(t);let o=0,s=n&e.capacity_mask;for(;;){const i=o,r=s,c=e.entries;h(c,r);const a=c[r];if(a===void 0)Me();else{const l=a;if(l.hash===n&&l.key===t)return l.value;if(i<=l.psl){o=i+1|0,s=r+1&e.capacity_mask;continue}else Me()}}}function lh(e){return n=>{let o=e.head;for(;;){const s=o;if(s===void 0)return 1;{const r=s,c=r.key,a=r.value,u=r.next;if(n(c,a)===1){o=u;continue}else return 0}}}}function uh(e){const t=ch([]);return e(n=>(ma(t,n._0,n._1),1)),t}function fh(e){return e?Yf:Zf}function We(e){const t=e+0,n=void 0;return new ii(t,n)}function ph(e){return{hi:0,lo:e}}function dh(e){return ph(e)}function Po(e){return dh(e)}function ns(e){const t=e,n=void 0;return new ii(t,n)}function $h(e){const t=new Array(e.length),n=e.length;let o=0;for(;;){const s=o;if(s<n){const i=e[s];t[s]=Ma(i),o=s+1|0;continue}else break}return new Zc(t)}function _h(e,t){Qc(e,t)}function hh(e,t){Qc(e,t)}function mh(){return e=>1}function ur(e){return t=>t(e)}function gh(e,t){return n=>e(n)===1&&t(n)===1?1:0}function bh(e){const t=[];return e(n=>(_h(t,n),1)),t}function ba(e,t,n){const o=e.hi,s=e.lo,i=s+n|0,r=i>>31,c=s>>31,a=n>>31,u=(c&a|~r&(c^a))&1;return{hi:(o+t|0)+u|0,lo:i}}function wh(e,t){return ba(e,t.hi,t.lo)}function yh(e,t){return t.lo===0?{hi:e.hi-t.hi|0,lo:e.lo}:ba(e,-1,-1)}function vh(e,t){const n=e.hi,o=e.lo,s=t.hi,i=t.lo,r=n,c=o,a=s,u=i,l=r>>>16|0,f=r&65535,p=c>>>16|0,d=c&65535,w=a>>>16|0,y=a&65535,x=u>>>16|0,S=u&65535,b=Math.imul(d,S)|0,g=b>>>16|0,T=b&65535,G=(g>>>0)+((Math.imul(p,S)|0)>>>0)|0,A=G>>>16|0,V=((G&65535)>>>0)+((Math.imul(d,x)|0)>>>0)|0,M=(A>>>0)+((V>>>16|0)>>>0)|0,m=V&65535,P=(M>>>0)+((Math.imul(f,S)|0)>>>0)|0,L=P>>>16|0,B=((P&65535)>>>0)+((Math.imul(p,x)|0)>>>0)|0,W=(L>>>0)+((B>>>16|0)>>>0)|0,z=((B&65535)>>>0)+((Math.imul(d,y)|0)>>>0)|0,Z=(W>>>0)+((z>>>16|0)>>>0)|0,he=z&65535;return{hi:(((((((((Z>>>0)+((Math.imul(l,S)|0)>>>0)|0)>>>0)+((Math.imul(f,x)|0)>>>0)|0)>>>0)+((Math.imul(p,y)|0)>>>0)|0)>>>0)+((Math.imul(d,w)|0)>>>0)|0)&65535)<<16|he,lo:m<<16|T}}function Th(e,t){if(t.hi===0&&t.lo===0)return Me();{const n=ep(),o=e.hi,s=e.lo,i=t.hi,r=t.lo,c=n.rem_u,a=c(s,o,r,i),u=n.get_high;return{hi:u(),lo:a}}}function Mh(e){return{hi:~e.hi,lo:~e.lo}}function Ch(e,t){return{hi:e.hi&t.hi,lo:e.lo&t.lo}}function xh(e,t){return{hi:e.hi|t.hi,lo:e.lo|t.lo}}function Sh(e,t){const n=t&63;return{hi:e.lo<<(n-32|0),lo:0}}function Lh(e,t){const n=t&63;return n===0?e:n<32?{hi:e.hi>>>n|0,lo:e.lo>>>n|e.hi<<(32-n|0)}:{hi:0,lo:e.hi>>>(n-32|0)|0}}function ss(e,t){return wh(e,t)}function fr(e,t){return yh(e,t)}function Tn(e,t){return vh(e,t)}function Ah(e,t){return Th(e,t)}function pr(e){return e.lo}function Ih(e,t){return tp(e,t)}function dr(e,t){const n=e,o=t;return n.hi===o.hi&&n.lo===o.lo}function On(e,t){return Ch(e,t)}function Eh(e,t){return xh(e,t)}function Rh(e){return Mh(e)}function kh(e,t){return Sh(e,t)}function on(e,t){return Lh(e,t)}function Ph(e,t){const n=(e.acc>>>0)+((Math.imul(t,-1028477379)|0)>>>0)|0,o=17;e.acc=Math.imul(n<<o|(n>>>(32-o|0)|0),668265263)|0}function wa(e,t){e.acc=(e.acc>>>0)+4|0,Ph(e,t)}function rn(e,t){wa(e,t)}function Nh(e,t){const n=t.length;let o=0;for(;;){const s=o;if(s<n){wa(e,t.charCodeAt(s)),o=s+1|0;continue}else return}}function Oh(e,t){Nh(t,e)}function Gh(e,t){rn(t,e)}function Ls(e,t,n,o,s){if(s>=0&&o>=0&&(s+n|0)<=t.length&&(o+n|0)<=e.length){k_(t,s,e,o,n);return}else{ta(`bounds check failed: dst_offset = ${Ke(s)}, src_offset = ${Ke(o)}, len = ${Ke(n)}, dst.length = ${Ke(t.length)}, self.length = ${Ke(e.length)}`);return}}function Dh(e,t,n,o,s){if((s+n|0)<=t.length&&(o+n|0)<=e.length){P_(t,s,e,o,n);return}else{ta(`bounds check failed: dst_offset = ${Ke(s)}, src_offset = ${Ke(o)}, len = ${Ke(n)}, dst.length = ${Ke(t.length)}, self.length = ${Ke(e.length)}`);return}}function ya(){return{now:0}}function ui(e){return e.now=e.now+1|0,e.now}function va(e,t){switch(e){case 0:return t===0;case 1:return t===1;case 2:return t===2;case 3:return t===3;default:return t===4}}function Fh(e,t){switch(e){case 0:{rn(t,0);return}case 1:{rn(t,1);return}case 2:{rn(t,2);return}case 3:{rn(t,3);return}default:{rn(t,4);return}}}function Hh(e){return{cost:e}}function Ta(e){const t=Pe([]);return te(t,"health",ns(e.health)),te(t,"attack",ns(e.attack)),te(t,"defense",ns(e.defense)),te(t,"dodge",ns(e.dodge)),new Ie(t)}function yt(e,t,n,o){return{health:e,attack:t,defense:n,dodge:o}}function $r(e,t){return{health:Math.fround(e.health+t.health),attack:Math.fround(e.attack+t.attack),defense:Math.fround(e.defense+t.defense),dodge:Math.fround(e.dodge+t.dodge)}}function _r(e){const t=Pe([]);return te(t,"equipment_base",Uh(e.equipment_base)),te(t,"id",We(e.id)),new Ie(t)}function Uh(e){const t=Pe([]),n=e.name;te(t,"name",new $e(n));const o=e.description;te(t,"description",new $e(o));const s=e.resource_url;return te(t,"resource_url",new $e(s)),te(t,"attribute",Ta(e.attribute)),new Ie(t)}function Bh(e){const t=Pe([]);te(t,"id",We(e.id));const n=e.type_msg;te(t,"type_msg",new $e(n));const o=e.content;return te(t,"content",new $e(o)),new Ie(t)}function jh(){return{history:[],callback:e=>{}}}function Vh(e,t){e.callback=t}function fi(e,t){const n={id:ui(Q$),type_msg:t.type_msg,content:t.content};hh(e.history,n);const o=e.callback;o(qn(Bh(n),!1,0))}function Ma(e){const t=Pe([]);return te(t,"id",We(e.id)),te(t,"level",We(e.level)),te(t,"suffix",We(e.suffix)),te(t,"live_left",We(e.live_left)),te(t,"attribute",Ta(e.attribute)),te(t,"copper_type",Ca(e.copper_type)),te(t,"equipment_slot",Kh(e.equipment_slot)),te(t,"copper_info",Wh(e.copper_info)),new Ie(t)}function Ca(e){switch(e){case 0:{const t="IronWall";return new $e(t)}case 1:{const t="Arcanist";return new $e(t)}case 2:{const t="CraftsMan";return new $e(t)}case 3:{const t="Mechanic";return new $e(t)}default:{const t="Resonator";return new $e(t)}}}function Kh(e){const t=Pe([]),n=e.slot1;n===void 0||te(t,"slot1",_r(n));const o=e.slot2;return o===void 0||te(t,"slot2",_r(o)),te(t,"is_slot2_locked",fh(e.is_slot2_locked)),new Ie(t)}function Wh(e){const t=Pe([]),n=e.name;te(t,"name",new $e(n)),te(t,"copper_type",Ca(e.copper_type));const o=e.description;te(t,"description",new $e(o));const s=e.icon_url;te(t,"icon_url",new $e(s));const i=e.model_url;te(t,"model_url",new $e(i));const r=e.skill;return r===void 0||te(t,"skill",zh(r)),new Ie(t)}function zh(e){const t=Pe([]),n=e.name;te(t,"name",new $e(n));const o=e.description;te(t,"description",new $e(o));const s=e.resource_url;te(t,"resource_url",new $e(s));const i=e.cool_down;return i===void 0||te(t,"cool_down",We(i)),new Ie(t)}function qh(e){e:switch(e.copper_type){case 0:return yt(Math.fround(10),Math.fround(1),Math.fround(1),Math.fround(1));case 1:return yt(Math.fround(5),Math.fround(2),Math.fround(.5),Math.fround(.5));case 4:return yt(Math.fround(5),Math.fround(1),Math.fround(.5),Math.fround(.5));case 3:break e;default:break e}return yt(Math.fround(5),Math.fround(.5),Math.fround(5),Math.fround(.5))}function Xh(e){return{slot1:e.slot1,slot2:e.slot2,is_slot2_locked:!1}}function Jh(e){const t=qh(e);return e.level===4?{...e,attribute:$r(e.attribute,t),level:e.level+1|0,equipment_slot:Xh(e.equipment_slot)}:{...e,attribute:$r(e.attribute,t),level:e.level+1|0}}function Yh(e){let t;switch(e){case 1:{t=5;break}case 2:{t=10;break}case 3:{t=20;break}case 4:{t=30;break}default:fi(js,qd),t=0}return Hh([{_0:2,_1:t}])}function xa(){return{slot1:void 0,slot2:void 0,is_slot2_locked:!0}}function Sa(e){switch(e){case 0:return yt(Math.fround(100),Math.fround(10),Math.fround(10),Math.fround(10));case 1:return yt(Math.fround(30),Math.fround(20),Math.fround(5),Math.fround(5));case 4:return yt(Math.fround(30),Math.fround(5),Math.fround(5),Math.fround(5));case 3:return yt(Math.fround(50),Math.fround(5),Math.fround(5),Math.fround(5));default:return yt(Math.fround(50),Math.fround(0),Math.fround(5),Math.fround(5))}}function lo(e){const t=ah(Z$,e),n=ui(ea);return{id:n,level:1,suffix:n,live_left:5,attribute:Sa(t.copper_type),copper_type:t.copper_type,equipment_slot:xa(),copper_info:t}}function Zh(){return rh([Xd,Jd,Yd,Zd,Qd])}function Jt(e,t){const n=ga(e,t);return n===void 0?Me():n}function La(e,t,n){const o=ga(e,t);let s;if(o===void 0?s=Me():s=o,s<n){fi(js,e$);return}else{ha(e,t,s-n|0);return}}function Qh(e,t){const n=t.cost,o=n.length;let s=0;for(;;){const i=s;if(i<o){const r=n[i],c=r._0,a=r._1;if(Jt(e,c)<a)return!1;s=i+1|0;continue}else break}return!0}function em(e,t){const n=t.cost,o=n.length;let s=0;for(;;){const i=s;if(i<o){const r=n[i],c=r._0,a=r._1;La(e,c,a),s=i+1|0;continue}else return}}function tm(){const e=lo(""),t=lo(""),n=lo("");return{coppers:fs(fs(fs(void 0,e.id,e),t.id,t),n.id,n)}}function Aa(e,t){return{coppers:fs(e.coppers,t.id,t)}}function nm(e,t){const n=__(e.coppers,t);return n===void 0?Me():n}function sm(e){return bh(g_(e.coppers))}function om(e,t){return{coppers:h_(e.coppers,t)}}function im(e,t){return e+R_(e_,(t-e|0)+1|0)|0}function rm(){const e=ui(ea),t=im(0,Nn.length-1|0);h(Nn,t);const n=Nn[t],o=Sa(n.copper_type);return{id:e,level:1,suffix:e,live_left:5,attribute:o,copper_type:n.copper_type,equipment_slot:xa(),copper_info:n}}function cm(e){if(Jt(e,2)>10)return La(e,2,10),rm();fi(js,t$)}function am(){return{resource:Zh(),warehouse:tm()}}function lm(e){const t=e.resource,n=Pe([{_0:"SpiritalSpark",_1:We(Jt(t,2))},{_0:"RecallGear",_1:We(Jt(t,1))},{_0:"ResonantCrystal",_1:We(Jt(t,4))},{_0:"RefinedCopper",_1:We(Jt(t,3))},{_0:"HeartCrystalDust",_1:We(Jt(t,0))}]);return qn(new Ie(n),!1,0)}function um(e){const t=e.warehouse,n=Pe([{_0:"coppers",_1:$h(sm(t))}]);return qn(new Ie(n),!1,0)}function fm(e){const t=cm(e.resource);let n;if(t===void 0){const o="error",s={_0:"type",_1:new $e(o)},i="",r=Pe([s,{_0:"content",_1:new $e(i)}]);n=new Ie(r)}else{const s=t;e.warehouse=Aa(e.warehouse,s);const i="success",r=Pe([{_0:"type",_1:new $e(i)},{_0:"copper",_1:Ma(s)}]);n=new Ie(r)}return qn(n,!1,0)}function pm(e,t){const n=e.warehouse,o=nm(n,t),s=Yh(o.level);let i;if(Qh(e.resource,s)){const r=Jh(o);em(e.resource,s),e.warehouse=om(e.warehouse,t),e.warehouse=Aa(e.warehouse,r);const c="success",a=Pe([{_0:"type",_1:new $e(c)}]);i=new Ie(a)}else{const r="error",c={_0:"type",_1:new $e(r)},a="",u=Pe([c,{_0:"content",_1:new $e(a)}]);i=new Ie(u)}return qn(i,!1,0)}function dm(){return lm(Bs)}function $m(){return um(Bs)}function _m(){return fm(Bs)}function hm(e){return pm(Bs,e)}function mm(e){Vh(js,e)}function gm(){return JSON.parse(_m())}function ps(){return JSON.parse(dm())}function uo(){return JSON.parse($m())}function bm(e){return JSON.parse(hm(e))}function wm(e){mm(t=>e(JSON.parse(t)))}const ym={class:"draw-screen"},vm={class:"draw-screen__body"},Tm={class:"draw-card"},Mm={class:"card-face card-back"},Cm=["src"],xm={class:"card-face card-front"},Sm=["src"],Lm={key:1,class:"card-icon"},Am=["src"],Im={class:"draw-cost"},Em=["src"],Rm=["disabled","title"],km={key:0,class:"toast"},Pm={__name:"DrawScreen",emits:["draw"],setup(e,{emit:t}){const n=t,o=Q(!1),s=Q(!0),i=Q(!1),r=Q(""),c=Q(""),a=Q(""),u=Q({left:0,top:0,width:0,height:0}),l=Q(!1),f=Q(!1),p=Q(!1),d=Q("");function w(b){d.value=b||"",p.value=!0,setTimeout(()=>{p.value=!1},1800)}async function y(){try{const g=ps(),T=Number((g==null?void 0:g.SpiritalSpark)??0);s.value=T>=10}catch{s.value=!1}}function x(){i.value=!1,l.value=!1,f.value=!1}function S(){if(o.value)return;if(y(),!s.value){w("");return}o.value=!0,console.log("[DrawScreen] runDrawSequence start");const b=document.querySelector(".draw-card");if(b){b.classList.add("is-shaking"),setTimeout(()=>b.classList.remove("is-shaking"),500);const g=b.getBoundingClientRect();u.value={left:Math.round(g.left),top:Math.round(g.top),width:Math.round(g.width),height:Math.round(g.height)}}setTimeout(async()=>{i.value=!0,l.value=!1,f.value=!0;try{const g=gm();if(g&&g.type==="success"&&g.copper&&g.copper.copper_info){const T=g.copper.copper_info;r.value=T.name||"",c.value="",a.value=_e(T.icon_url||""),console.log("[DrawScreen] tempImage resolved:",a.value),await Fn(),setTimeout(()=>{f.value=!1,setTimeout(()=>{l.value=!0},350)},450),n("draw",{name:T.name,image:T.icon_url||""}),y()}else g&&g.type==="error"&&(i.value=!1,l.value=!1,f.value=!1,w(g.content||""),n("draw",{error:!0}),y())}catch{i.value=!1,l.value=!1,f.value=!1,w(""),n("draw",{error:!0}),y()}finally{setTimeout(()=>{o.value=!1},800)}},600)}return(b,g)=>(se(),ie("div",ym,[v("div",vm,[v("div",Tm,[i.value?(se(),ie("div",{key:0,class:"draw-temp",onClick:x},[g[3]||(g[3]=v("div",{class:"dim-backdrop"},null,-1)),v("div",{class:"temp-stack",style:kt({left:u.value.left+"px",top:u.value.top+"px",width:u.value.width+"px",height:u.value.height+"px"}),onClick:g[2]||(g[2]=ro(()=>{},["stop"]))},[v("div",{class:Dt(["card",{flipped:f.value}]),onClick:g[0]||(g[0]=ro(T=>f.value=!f.value,["stop"]))},[v("div",Mm,[v("img",{src:os(_e)("frontend_resource/gacha.webp"),alt:"back"},null,8,Cm)]),v("div",xm,[a.value?(se(),ie("img",{key:0,src:a.value,alt:"copper",class:"card-front-img"},null,8,Sm)):(se(),ie("div",Lm,fe(c.value||""),1))])],2),v("div",{class:Dt(["card-name-below",{show:l.value}]),onClick:g[1]||(g[1]=ro(()=>{},["stop"]))},fe(r.value),3)],4)])):Tt("",!0),v("img",{class:"draw-card__img",src:os(_e)("frontend_resource/gacha.webp"),alt:"card"},null,8,Am)]),v("div",Im,[v("img",{class:"draw-cost__icon",src:os(_e)("resource/spiritual_spark.webp"),alt:"cost"},null,8,Em),g[4]||(g[4]=v("span",{class:"draw-cost__times"},"X 10",-1))]),v("button",{class:"draw-action",disabled:o.value||!s.value,title:s.value?"":"",onClick:S},"",8,Rm),p.value?(se(),ie("div",km,fe(d.value),1)):Tt("",!0)])]))}},Nm=en(Pm,[["__scopeId","data-v-e29ec9ed"]]);function hr(e,t){if(t===Ra)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===mo||t===Mr){let n=e.getIndex();if(n===null){const r=[],c=e.getAttribute("position");if(c!==void 0){for(let a=0;a<c.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e}const o=n.count-2,s=[];if(t===mo)for(let r=1;r<=o;r++)s.push(n.getX(0)),s.push(n.getX(r)),s.push(n.getX(r+1));else for(let r=0;r<o;r++)r%2===0?(s.push(n.getX(r)),s.push(n.getX(r+1)),s.push(n.getX(r+2))):(s.push(n.getX(r+2)),s.push(n.getX(r+1)),s.push(n.getX(r)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=e.clone();return i.setIndex(s),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}class No extends Cr{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Hm(n)}),this.register(function(n){return new Um(n)}),this.register(function(n){return new Jm(n)}),this.register(function(n){return new Ym(n)}),this.register(function(n){return new Zm(n)}),this.register(function(n){return new jm(n)}),this.register(function(n){return new Vm(n)}),this.register(function(n){return new Km(n)}),this.register(function(n){return new Wm(n)}),this.register(function(n){return new Fm(n)}),this.register(function(n){return new zm(n)}),this.register(function(n){return new Bm(n)}),this.register(function(n){return new Xm(n)}),this.register(function(n){return new qm(n)}),this.register(function(n){return new Gm(n)}),this.register(function(n){return new Qm(n)}),this.register(function(n){return new eg(n)})}load(t,n,o,s){const i=this;let r;if(this.resourcePath!=="")r=this.resourcePath;else if(this.path!==""){const u=xn.extractUrlBase(t);r=xn.resolveURL(u,this.path)}else r=xn.extractUrlBase(t);this.manager.itemStart(t);const c=function(u){s?s(u):console.error(u),i.manager.itemError(t),i.manager.itemEnd(t)},a=new ds(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(u){try{i.parse(u,r,function(l){n(l),i.manager.itemEnd(t)},c)}catch(l){c(l)}},o,c)}setDRACOLoader(t){return this.dracoLoader=t,this}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,o,s){let i;const r={},c={},a=new TextDecoder;if(typeof t=="string")i=JSON.parse(t);else if(t instanceof ArrayBuffer)if(a.decode(new Uint8Array(t,0,4))===Ia){try{r[ee.KHR_BINARY_GLTF]=new tg(t)}catch(f){s&&s(f);return}i=JSON.parse(r[ee.KHR_BINARY_GLTF].content)}else i=JSON.parse(a.decode(t));else i=t;if(i.asset===void 0||i.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new $g(i,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const f=this.pluginCallbacks[l](u);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[f.name]=f,r[f.name]=!0}if(i.extensionsUsed)for(let l=0;l<i.extensionsUsed.length;++l){const f=i.extensionsUsed[l],p=i.extensionsRequired||[];switch(f){case ee.KHR_MATERIALS_UNLIT:r[f]=new Dm;break;case ee.KHR_DRACO_MESH_COMPRESSION:r[f]=new ng(i,this.dracoLoader);break;case ee.KHR_TEXTURE_TRANSFORM:r[f]=new sg;break;case ee.KHR_MESH_QUANTIZATION:r[f]=new og;break;default:p.indexOf(f)>=0&&c[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(r),u.setPlugins(c),u.parse(o,s)}parseAsync(t,n){const o=this;return new Promise(function(s,i){o.parse(t,n,s,i)})}}function Om(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const ee={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Gm{constructor(t){this.parser=t,this.name=ee.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,n=this.parser.json.nodes||[];for(let o=0,s=n.length;o<s;o++){const i=n[o];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(t){const n=this.parser,o="light:"+t;let s=n.cache.get(o);if(s)return s;const i=n.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[t];let u;const l=new Mt(16777215);a.color!==void 0&&l.setRGB(a.color[0],a.color[1],a.color[2],ft);const f=a.range!==void 0?a.range:0;switch(a.type){case"directional":u=new $s(l),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new Sr(l),u.distance=f;break;case"spot":u=new ka(l),u.distance=f,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,u.angle=a.spot.outerConeAngle,u.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return u.position.set(0,0,0),at(u,a),a.intensity!==void 0&&(u.intensity=a.intensity),u.name=n.createUniqueName(a.name||"light_"+t),s=Promise.resolve(u),n.cache.add(o,s),s}getDependency(t,n){if(t==="light")return this._loadLight(n)}createNodeAttachment(t){const n=this,o=this.parser,i=o.json.nodes[t],c=(i.extensions&&i.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(a){return o._getNodeRef(n.cache,c,a)})}}class Dm{constructor(){this.name=ee.KHR_MATERIALS_UNLIT}getMaterialType(){return cn}extendParams(t,n,o){const s=[];t.color=new Mt(1,1,1),t.opacity=1;const i=n.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const r=i.baseColorFactor;t.color.setRGB(r[0],r[1],r[2],ft),t.opacity=r[3]}i.baseColorTexture!==void 0&&s.push(o.assignTexture(t,"map",i.baseColorTexture,vt))}return Promise.all(s)}}class Fm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,n){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name].emissiveStrength;return i!==void 0&&(n.emissiveIntensity=i),Promise.resolve()}}class Hm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],r=s.extensions[this.name];if(r.clearcoatFactor!==void 0&&(n.clearcoat=r.clearcoatFactor),r.clearcoatTexture!==void 0&&i.push(o.assignTexture(n,"clearcoatMap",r.clearcoatTexture)),r.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=r.clearcoatRoughnessFactor),r.clearcoatRoughnessTexture!==void 0&&i.push(o.assignTexture(n,"clearcoatRoughnessMap",r.clearcoatRoughnessTexture)),r.clearcoatNormalTexture!==void 0&&(i.push(o.assignTexture(n,"clearcoatNormalMap",r.clearcoatNormalTexture)),r.clearcoatNormalTexture.scale!==void 0)){const c=r.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new xr(c,c)}return Promise.all(i)}}class Um{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_DISPERSION}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name];return n.dispersion=i.dispersion!==void 0?i.dispersion:0,Promise.resolve()}}class Bm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],r=s.extensions[this.name];return r.iridescenceFactor!==void 0&&(n.iridescence=r.iridescenceFactor),r.iridescenceTexture!==void 0&&i.push(o.assignTexture(n,"iridescenceMap",r.iridescenceTexture)),r.iridescenceIor!==void 0&&(n.iridescenceIOR=r.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),r.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=r.iridescenceThicknessMinimum),r.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=r.iridescenceThicknessMaximum),r.iridescenceThicknessTexture!==void 0&&i.push(o.assignTexture(n,"iridescenceThicknessMap",r.iridescenceThicknessTexture)),Promise.all(i)}}class jm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_SHEEN}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[];n.sheenColor=new Mt(0,0,0),n.sheenRoughness=0,n.sheen=1;const r=s.extensions[this.name];if(r.sheenColorFactor!==void 0){const c=r.sheenColorFactor;n.sheenColor.setRGB(c[0],c[1],c[2],ft)}return r.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=r.sheenRoughnessFactor),r.sheenColorTexture!==void 0&&i.push(o.assignTexture(n,"sheenColorMap",r.sheenColorTexture,vt)),r.sheenRoughnessTexture!==void 0&&i.push(o.assignTexture(n,"sheenRoughnessMap",r.sheenRoughnessTexture)),Promise.all(i)}}class Vm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],r=s.extensions[this.name];return r.transmissionFactor!==void 0&&(n.transmission=r.transmissionFactor),r.transmissionTexture!==void 0&&i.push(o.assignTexture(n,"transmissionMap",r.transmissionTexture)),Promise.all(i)}}class Km{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_VOLUME}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],r=s.extensions[this.name];n.thickness=r.thicknessFactor!==void 0?r.thicknessFactor:0,r.thicknessTexture!==void 0&&i.push(o.assignTexture(n,"thicknessMap",r.thicknessTexture)),n.attenuationDistance=r.attenuationDistance||1/0;const c=r.attenuationColor||[1,1,1];return n.attenuationColor=new Mt().setRGB(c[0],c[1],c[2],ft),Promise.all(i)}}class Wm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_IOR}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name];return n.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class zm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_SPECULAR}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],r=s.extensions[this.name];n.specularIntensity=r.specularFactor!==void 0?r.specularFactor:1,r.specularTexture!==void 0&&i.push(o.assignTexture(n,"specularIntensityMap",r.specularTexture));const c=r.specularColorFactor||[1,1,1];return n.specularColor=new Mt().setRGB(c[0],c[1],c[2],ft),r.specularColorTexture!==void 0&&i.push(o.assignTexture(n,"specularColorMap",r.specularColorTexture,vt)),Promise.all(i)}}class qm{constructor(t){this.parser=t,this.name=ee.EXT_MATERIALS_BUMP}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],r=s.extensions[this.name];return n.bumpScale=r.bumpFactor!==void 0?r.bumpFactor:1,r.bumpTexture!==void 0&&i.push(o.assignTexture(n,"bumpMap",r.bumpTexture)),Promise.all(i)}}class Xm{constructor(t){this.parser=t,this.name=ee.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:pt}extendMaterialParams(t,n){const o=this.parser,s=o.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],r=s.extensions[this.name];return r.anisotropyStrength!==void 0&&(n.anisotropy=r.anisotropyStrength),r.anisotropyRotation!==void 0&&(n.anisotropyRotation=r.anisotropyRotation),r.anisotropyTexture!==void 0&&i.push(o.assignTexture(n,"anisotropyMap",r.anisotropyTexture)),Promise.all(i)}}class Jm{constructor(t){this.parser=t,this.name=ee.KHR_TEXTURE_BASISU}loadTexture(t){const n=this.parser,o=n.json,s=o.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const i=s.extensions[this.name],r=n.options.ktx2Loader;if(!r){if(o.extensionsRequired&&o.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(t,i.source,r)}}class Ym{constructor(t){this.parser=t,this.name=ee.EXT_TEXTURE_WEBP}loadTexture(t){const n=this.name,o=this.parser,s=o.json,i=s.textures[t];if(!i.extensions||!i.extensions[n])return null;const r=i.extensions[n],c=s.images[r.source];let a=o.textureLoader;if(c.uri){const u=o.options.manager.getHandler(c.uri);u!==null&&(a=u)}return o.loadTextureImage(t,r.source,a)}}class Zm{constructor(t){this.parser=t,this.name=ee.EXT_TEXTURE_AVIF}loadTexture(t){const n=this.name,o=this.parser,s=o.json,i=s.textures[t];if(!i.extensions||!i.extensions[n])return null;const r=i.extensions[n],c=s.images[r.source];let a=o.textureLoader;if(c.uri){const u=o.options.manager.getHandler(c.uri);u!==null&&(a=u)}return o.loadTextureImage(t,r.source,a)}}class Qm{constructor(t){this.name=ee.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const n=this.parser.json,o=n.bufferViews[t];if(o.extensions&&o.extensions[this.name]){const s=o.extensions[this.name],i=this.parser.getDependency("buffer",s.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(c){const a=s.byteOffset||0,u=s.byteLength||0,l=s.count,f=s.byteStride,p=new Uint8Array(c,a,u);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(l,f,p,s.mode,s.filter).then(function(d){return d.buffer}):r.ready.then(function(){const d=new ArrayBuffer(l*f);return r.decodeGltfBuffer(new Uint8Array(d),l,f,p,s.mode,s.filter),d})})}else return null}}class eg{constructor(t){this.name=ee.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const n=this.parser.json,o=n.nodes[t];if(!o.extensions||!o.extensions[this.name]||o.mesh===void 0)return null;const s=n.meshes[o.mesh];for(const u of s.primitives)if(u.mode!==Ve.TRIANGLES&&u.mode!==Ve.TRIANGLE_STRIP&&u.mode!==Ve.TRIANGLE_FAN&&u.mode!==void 0)return null;const r=o.extensions[this.name].attributes,c=[],a={};for(const u in r)c.push(this.parser.getDependency("accessor",r[u]).then(l=>(a[u]=l,a[u])));return c.length<1?null:(c.push(this.parser.createNodeMesh(t)),Promise.all(c).then(u=>{const l=u.pop(),f=l.isGroup?l.children:[l],p=u[0].count,d=[];for(const w of f){const y=new _s,x=new Ye,S=new Lr,b=new Ye(1,1,1),g=new Pa(w.geometry,w.material,p);for(let T=0;T<p;T++)a.TRANSLATION&&x.fromBufferAttribute(a.TRANSLATION,T),a.ROTATION&&S.fromBufferAttribute(a.ROTATION,T),a.SCALE&&b.fromBufferAttribute(a.SCALE,T),g.setMatrixAt(T,y.compose(x,S,b));for(const T in a)if(T==="_COLOR_0"){const G=a[T];g.instanceColor=new Na(G.array,G.itemSize,G.normalized)}else T!=="TRANSLATION"&&T!=="ROTATION"&&T!=="SCALE"&&w.geometry.setAttribute(T,a[T]);Ar.prototype.copy.call(g,w),this.parser.assignFinalMaterial(g),d.push(g)}return l.isGroup?(l.clear(),l.add(...d),l):d[0]}))}}const Ia="glTF",Mn=12,mr={JSON:1313821514,BIN:5130562};class tg{constructor(t){this.name=ee.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(t,0,Mn),o=new TextDecoder;if(this.header={magic:o.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Ia)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-Mn,i=new DataView(t,Mn);let r=0;for(;r<s;){const c=i.getUint32(r,!0);r+=4;const a=i.getUint32(r,!0);if(r+=4,a===mr.JSON){const u=new Uint8Array(t,Mn+r,c);this.content=o.decode(u)}else if(a===mr.BIN){const u=Mn+r;this.body=t.slice(u,u+c)}r+=c}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ng{constructor(t,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ee.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(t,n){const o=this.json,s=this.dracoLoader,i=t.extensions[this.name].bufferView,r=t.extensions[this.name].attributes,c={},a={},u={};for(const l in r){const f=Oo[l]||l.toLowerCase();c[f]=r[l]}for(const l in t.attributes){const f=Oo[l]||l.toLowerCase();if(r[l]!==void 0){const p=o.accessors[t.attributes[l]],d=_n[p.componentType];u[f]=d.name,a[f]=p.normalized===!0}}return n.getDependency("bufferView",i).then(function(l){return new Promise(function(f,p){s.decodeDracoFile(l,function(d){for(const w in d.attributes){const y=d.attributes[w],x=a[w];x!==void 0&&(y.normalized=x)}f(d)},c,u,ft,p)})})}}class sg{constructor(){this.name=ee.KHR_TEXTURE_TRANSFORM}extendTexture(t,n){return(n.texCoord===void 0||n.texCoord===t.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(t=t.clone(),n.texCoord!==void 0&&(t.channel=n.texCoord),n.offset!==void 0&&t.offset.fromArray(n.offset),n.rotation!==void 0&&(t.rotation=n.rotation),n.scale!==void 0&&t.repeat.fromArray(n.scale),t.needsUpdate=!0),t}}class og{constructor(){this.name=ee.KHR_MESH_QUANTIZATION}}class Ea extends cl{constructor(t,n,o,s){super(t,n,o,s)}copySampleValue_(t){const n=this.resultBuffer,o=this.sampleValues,s=this.valueSize,i=t*s*3+s;for(let r=0;r!==s;r++)n[r]=o[i+r];return n}interpolate_(t,n,o,s){const i=this.resultBuffer,r=this.sampleValues,c=this.valueSize,a=c*2,u=c*3,l=s-n,f=(o-n)/l,p=f*f,d=p*f,w=t*u,y=w-u,x=-2*d+3*p,S=d-p,b=1-x,g=S-p+f;for(let T=0;T!==c;T++){const G=r[y+T+c],A=r[y+T+a]*l,U=r[w+T+c],V=r[w+T]*l;i[T]=b*G+g*A+x*U+S*V}return i}}const ig=new Lr;class rg extends Ea{interpolate_(t,n,o,s){const i=super.interpolate_(t,n,o,s);return ig.fromArray(i).normalize().toArray(i),i}}const Ve={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},_n={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},gr={9728:Er,9729:go,9984:Ua,9985:Ha,9986:Fa,9987:Ir},br={33071:ja,33648:Ba,10497:bo},fo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Oo={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},It={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},cg={CUBICSPLINE:void 0,LINEAR:kr,STEP:ol},po={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ag(e){return e.DefaultMaterial===void 0&&(e.DefaultMaterial=new Fo({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:rl})),e.DefaultMaterial}function zt(e,t,n){for(const o in n.extensions)e[o]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[o]=n.extensions[o])}function at(e,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function lg(e,t,n){let o=!1,s=!1,i=!1;for(let u=0,l=t.length;u<l;u++){const f=t[u];if(f.POSITION!==void 0&&(o=!0),f.NORMAL!==void 0&&(s=!0),f.COLOR_0!==void 0&&(i=!0),o&&s&&i)break}if(!o&&!s&&!i)return Promise.resolve(e);const r=[],c=[],a=[];for(let u=0,l=t.length;u<l;u++){const f=t[u];if(o){const p=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):e.attributes.position;r.push(p)}if(s){const p=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):e.attributes.normal;c.push(p)}if(i){const p=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):e.attributes.color;a.push(p)}}return Promise.all([Promise.all(r),Promise.all(c),Promise.all(a)]).then(function(u){const l=u[0],f=u[1],p=u[2];return o&&(e.morphAttributes.position=l),s&&(e.morphAttributes.normal=f),i&&(e.morphAttributes.color=p),e.morphTargetsRelative=!0,e})}function ug(e,t){if(e.updateMorphTargets(),t.weights!==void 0)for(let n=0,o=t.weights.length;n<o;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let o=0,s=n.length;o<s;o++)e.morphTargetDictionary[n[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function fg(e){let t;const n=e.extensions&&e.extensions[ee.KHR_DRACO_MESH_COMPRESSION];if(n?t="draco:"+n.bufferView+":"+n.indices+":"+$o(n.attributes):t=e.indices+":"+$o(e.attributes)+":"+e.mode,e.targets!==void 0)for(let o=0,s=e.targets.length;o<s;o++)t+=":"+$o(e.targets[o]);return t}function $o(e){let t="";const n=Object.keys(e).sort();for(let o=0,s=n.length;o<s;o++)t+=n[o]+":"+e[n[o]]+";";return t}function Go(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function pg(e){return e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0?"image/jpeg":e.search(/\.webp($|\?)/i)>0||e.search(/^data\:image\/webp/)===0?"image/webp":e.search(/\.ktx2($|\?)/i)>0||e.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const dg=new _s;class $g{constructor(t={},n={}){this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new Om,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let o=!1,s=-1,i=!1,r=-1;if(typeof navigator<"u"){const c=navigator.userAgent;o=/^((?!chrome|android).)*safari/i.test(c)===!0;const a=c.match(/Version\/(\d+)/);s=o&&a?parseInt(a[1],10):-1,i=c.indexOf("Firefox")>-1,r=i?c.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||o&&s<17||i&&r<98?this.textureLoader=new Oa(this.options.manager):this.textureLoader=new Ga(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ds(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,n){const o=this,s=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(r){return r._markDefs&&r._markDefs()}),Promise.all(this._invokeAll(function(r){return r.beforeRoot&&r.beforeRoot()})).then(function(){return Promise.all([o.getDependencies("scene"),o.getDependencies("animation"),o.getDependencies("camera")])}).then(function(r){const c={scene:r[0][s.scene||0],scenes:r[0],animations:r[1],cameras:r[2],asset:s.asset,parser:o,userData:{}};return zt(i,c,s),at(c,s),Promise.all(o._invokeAll(function(a){return a.afterRoot&&a.afterRoot(c)})).then(function(){for(const a of c.scenes)a.updateMatrixWorld();t(c)})}).catch(n)}_markDefs(){const t=this.json.nodes||[],n=this.json.skins||[],o=this.json.meshes||[];for(let s=0,i=n.length;s<i;s++){const r=n[s].joints;for(let c=0,a=r.length;c<a;c++)t[r[c]].isBone=!0}for(let s=0,i=t.length;s<i;s++){const r=t[s];r.mesh!==void 0&&(this._addNodeRef(this.meshCache,r.mesh),r.skin!==void 0&&(o[r.mesh].isSkinnedMesh=!0)),r.camera!==void 0&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(t,n){n!==void 0&&(t.refs[n]===void 0&&(t.refs[n]=t.uses[n]=0),t.refs[n]++)}_getNodeRef(t,n,o){if(t.refs[n]<=1)return o;const s=o.clone(),i=(r,c)=>{const a=this.associations.get(r);a!=null&&this.associations.set(c,a);for(const[u,l]of r.children.entries())i(l,c.children[u])};return i(o,s),s.name+="_instance_"+t.uses[n]++,s}_invokeOne(t){const n=Object.values(this.plugins);n.push(this);for(let o=0;o<n.length;o++){const s=t(n[o]);if(s)return s}return null}_invokeAll(t){const n=Object.values(this.plugins);n.unshift(this);const o=[];for(let s=0;s<n.length;s++){const i=t(n[s]);i&&o.push(i)}return o}getDependency(t,n){const o=t+":"+n;let s=this.cache.get(o);if(!s){switch(t){case"scene":s=this.loadScene(n);break;case"node":s=this._invokeOne(function(i){return i.loadNode&&i.loadNode(n)});break;case"mesh":s=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(n)});break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(n)});break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(n)});break;case"texture":s=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(n)});break;case"skin":s=this.loadSkin(n);break;case"animation":s=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(n)});break;case"camera":s=this.loadCamera(n);break;default:if(s=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(t,n)}),!s)throw new Error("Unknown type: "+t);break}this.cache.add(o,s)}return s}getDependencies(t){let n=this.cache.get(t);if(!n){const o=this,s=this.json[t+(t==="mesh"?"es":"s")]||[];n=Promise.all(s.map(function(i,r){return o.getDependency(t,r)})),this.cache.add(t,n)}return n}loadBuffer(t){const n=this.json.buffers[t],o=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&t===0)return Promise.resolve(this.extensions[ee.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(i,r){o.load(xn.resolveURL(n.uri,s.path),i,void 0,function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(t){const n=this.json.bufferViews[t];return this.getDependency("buffer",n.buffer).then(function(o){const s=n.byteLength||0,i=n.byteOffset||0;return o.slice(i,i+s)})}loadAccessor(t){const n=this,o=this.json,s=this.json.accessors[t];if(s.bufferView===void 0&&s.sparse===void 0){const r=fo[s.type],c=_n[s.componentType],a=s.normalized===!0,u=new c(s.count*r);return Promise.resolve(new Sn(u,r,a))}const i=[];return s.bufferView!==void 0?i.push(this.getDependency("bufferView",s.bufferView)):i.push(null),s.sparse!==void 0&&(i.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(i).then(function(r){const c=r[0],a=fo[s.type],u=_n[s.componentType],l=u.BYTES_PER_ELEMENT,f=l*a,p=s.byteOffset||0,d=s.bufferView!==void 0?o.bufferViews[s.bufferView].byteStride:void 0,w=s.normalized===!0;let y,x;if(d&&d!==f){const S=Math.floor(p/d),b="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+S+":"+s.count;let g=n.cache.get(b);g||(y=new u(c,S*d,s.count*d/l),g=new Da(y,d/l),n.cache.add(b,g)),x=new il(g,a,p%d/l,w)}else c===null?y=new u(s.count*a):y=new u(c,p,s.count*a),x=new Sn(y,a,w);if(s.sparse!==void 0){const S=fo.SCALAR,b=_n[s.sparse.indices.componentType],g=s.sparse.indices.byteOffset||0,T=s.sparse.values.byteOffset||0,G=new b(r[1],g,s.sparse.count*S),A=new u(r[2],T,s.sparse.count*a);c!==null&&(x=new Sn(x.array.slice(),x.itemSize,x.normalized)),x.normalized=!1;for(let U=0,V=G.length;U<V;U++){const M=G[U];if(x.setX(M,A[U*a]),a>=2&&x.setY(M,A[U*a+1]),a>=3&&x.setZ(M,A[U*a+2]),a>=4&&x.setW(M,A[U*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}x.normalized=w}return x})}loadTexture(t){const n=this.json,o=this.options,i=n.textures[t].source,r=n.images[i];let c=this.textureLoader;if(r.uri){const a=o.manager.getHandler(r.uri);a!==null&&(c=a)}return this.loadTextureImage(t,i,c)}loadTextureImage(t,n,o){const s=this,i=this.json,r=i.textures[t],c=i.images[n],a=(c.uri||c.bufferView)+":"+r.sampler;if(this.textureCache[a])return this.textureCache[a];const u=this.loadImageSource(n,o).then(function(l){l.flipY=!1,l.name=r.name||c.name||"",l.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(l.name=c.uri);const p=(i.samplers||{})[r.sampler]||{};return l.magFilter=gr[p.magFilter]||go,l.minFilter=gr[p.minFilter]||Ir,l.wrapS=br[p.wrapS]||bo,l.wrapT=br[p.wrapT]||bo,l.generateMipmaps=!l.isCompressedTexture&&l.minFilter!==Er&&l.minFilter!==go,s.associations.set(l,{textures:t}),l}).catch(function(){return null});return this.textureCache[a]=u,u}loadImageSource(t,n){const o=this,s=this.json,i=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(f=>f.clone());const r=s.images[t],c=self.URL||self.webkitURL;let a=r.uri||"",u=!1;if(r.bufferView!==void 0)a=o.getDependency("bufferView",r.bufferView).then(function(f){u=!0;const p=new Blob([f],{type:r.mimeType});return a=c.createObjectURL(p),a});else if(r.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const l=Promise.resolve(a).then(function(f){return new Promise(function(p,d){let w=p;n.isImageBitmapLoader===!0&&(w=function(y){const x=new _i(y);x.needsUpdate=!0,p(x)}),n.load(xn.resolveURL(f,i.path),w,void 0,d)})}).then(function(f){return u===!0&&c.revokeObjectURL(a),at(f,r),f.userData.mimeType=r.mimeType||pg(r.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),f});return this.sourceCache[t]=l,l}assignTexture(t,n,o,s){const i=this;return this.getDependency("texture",o.index).then(function(r){if(!r)return null;if(o.texCoord!==void 0&&o.texCoord>0&&(r=r.clone(),r.channel=o.texCoord),i.extensions[ee.KHR_TEXTURE_TRANSFORM]){const c=o.extensions!==void 0?o.extensions[ee.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const a=i.associations.get(r);r=i.extensions[ee.KHR_TEXTURE_TRANSFORM].extendTexture(r,c),i.associations.set(r,a)}}return s!==void 0&&(r.colorSpace=s),t[n]=r,r})}assignFinalMaterial(t){const n=t.geometry;let o=t.material;const s=n.attributes.tangent===void 0,i=n.attributes.color!==void 0,r=n.attributes.normal===void 0;if(t.isPoints){const c="PointsMaterial:"+o.uuid;let a=this.cache.get(c);a||(a=new Va,Vs.prototype.copy.call(a,o),a.color.copy(o.color),a.map=o.map,a.sizeAttenuation=!1,this.cache.add(c,a)),o=a}else if(t.isLine){const c="LineBasicMaterial:"+o.uuid;let a=this.cache.get(c);a||(a=new Ka,Vs.prototype.copy.call(a,o),a.color.copy(o.color),a.map=o.map,this.cache.add(c,a)),o=a}if(s||i||r){let c="ClonedMaterial:"+o.uuid+":";s&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),r&&(c+="flat-shading:");let a=this.cache.get(c);a||(a=o.clone(),i&&(a.vertexColors=!0),r&&(a.flatShading=!0),s&&(a.normalScale&&(a.normalScale.y*=-1),a.clearcoatNormalScale&&(a.clearcoatNormalScale.y*=-1)),this.cache.add(c,a),this.associations.set(a,this.associations.get(o))),o=a}t.material=o}getMaterialType(){return Fo}loadMaterial(t){const n=this,o=this.json,s=this.extensions,i=o.materials[t];let r;const c={},a=i.extensions||{},u=[];if(a[ee.KHR_MATERIALS_UNLIT]){const f=s[ee.KHR_MATERIALS_UNLIT];r=f.getMaterialType(),u.push(f.extendParams(c,i,n))}else{const f=i.pbrMetallicRoughness||{};if(c.color=new Mt(1,1,1),c.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;c.color.setRGB(p[0],p[1],p[2],ft),c.opacity=p[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(c,"map",f.baseColorTexture,vt)),c.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,c.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(c,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(c,"roughnessMap",f.metallicRoughnessTexture))),r=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(t)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(t,c)})))}i.doubleSided===!0&&(c.side=Wa);const l=i.alphaMode||po.OPAQUE;if(l===po.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,l===po.MASK&&(c.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&r!==cn&&(u.push(n.assignTexture(c,"normalMap",i.normalTexture)),c.normalScale=new xr(1,1),i.normalTexture.scale!==void 0)){const f=i.normalTexture.scale;c.normalScale.set(f,f)}if(i.occlusionTexture!==void 0&&r!==cn&&(u.push(n.assignTexture(c,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&r!==cn){const f=i.emissiveFactor;c.emissive=new Mt().setRGB(f[0],f[1],f[2],ft)}return i.emissiveTexture!==void 0&&r!==cn&&u.push(n.assignTexture(c,"emissiveMap",i.emissiveTexture,vt)),Promise.all(u).then(function(){const f=new r(c);return i.name&&(f.name=i.name),at(f,i),n.associations.set(f,{materials:t}),i.extensions&&zt(s,f,i),f})}createUniqueName(t){const n=za.sanitizeNodeName(t||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(t){const n=this,o=this.extensions,s=this.primitiveCache;function i(c){return o[ee.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,n).then(function(a){return wr(a,c,n)})}const r=[];for(let c=0,a=t.length;c<a;c++){const u=t[c],l=fg(u),f=s[l];if(f)r.push(f.promise);else{let p;u.extensions&&u.extensions[ee.KHR_DRACO_MESH_COMPRESSION]?p=i(u):p=wr(new Rr,u,n),s[l]={primitive:u,promise:p},r.push(p)}}return Promise.all(r)}loadMesh(t){const n=this,o=this.json,s=this.extensions,i=o.meshes[t],r=i.primitives,c=[];for(let a=0,u=r.length;a<u;a++){const l=r[a].material===void 0?ag(this.cache):this.getDependency("material",r[a].material);c.push(l)}return c.push(n.loadGeometries(r)),Promise.all(c).then(function(a){const u=a.slice(0,a.length-1),l=a[a.length-1],f=[];for(let d=0,w=l.length;d<w;d++){const y=l[d],x=r[d];let S;const b=u[d];if(x.mode===Ve.TRIANGLES||x.mode===Ve.TRIANGLE_STRIP||x.mode===Ve.TRIANGLE_FAN||x.mode===void 0)S=i.isSkinnedMesh===!0?new qa(y,b):new Ho(y,b),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),x.mode===Ve.TRIANGLE_STRIP?S.geometry=hr(S.geometry,Mr):x.mode===Ve.TRIANGLE_FAN&&(S.geometry=hr(S.geometry,mo));else if(x.mode===Ve.LINES)S=new Xa(y,b);else if(x.mode===Ve.LINE_STRIP)S=new Ja(y,b);else if(x.mode===Ve.LINE_LOOP)S=new Ya(y,b);else if(x.mode===Ve.POINTS)S=new Za(y,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(S.geometry.morphAttributes).length>0&&ug(S,i),S.name=n.createUniqueName(i.name||"mesh_"+t),at(S,i),x.extensions&&zt(s,S,x),n.assignFinalMaterial(S),f.push(S)}for(let d=0,w=f.length;d<w;d++)n.associations.set(f[d],{meshes:t,primitives:d});if(f.length===1)return i.extensions&&zt(s,f[0],i),f[0];const p=new Ks;i.extensions&&zt(s,p,i),n.associations.set(p,{meshes:t});for(let d=0,w=f.length;d<w;d++)p.add(f[d]);return p})}loadCamera(t){let n;const o=this.json.cameras[t],s=o[o.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return o.type==="perspective"?n=new Uo(Qa.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):o.type==="orthographic"&&(n=new el(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),o.name&&(n.name=this.createUniqueName(o.name)),at(n,o),Promise.resolve(n)}loadSkin(t){const n=this.json.skins[t],o=[];for(let s=0,i=n.joints.length;s<i;s++)o.push(this._loadNodeShallow(n.joints[s]));return n.inverseBindMatrices!==void 0?o.push(this.getDependency("accessor",n.inverseBindMatrices)):o.push(null),Promise.all(o).then(function(s){const i=s.pop(),r=s,c=[],a=[];for(let u=0,l=r.length;u<l;u++){const f=r[u];if(f){c.push(f);const p=new _s;i!==null&&p.fromArray(i.array,u*16),a.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new tl(c,a)})}loadAnimation(t){const n=this.json,o=this,s=n.animations[t],i=s.name?s.name:"animation_"+t,r=[],c=[],a=[],u=[],l=[];for(let f=0,p=s.channels.length;f<p;f++){const d=s.channels[f],w=s.samplers[d.sampler],y=d.target,x=y.node,S=s.parameters!==void 0?s.parameters[w.input]:w.input,b=s.parameters!==void 0?s.parameters[w.output]:w.output;y.node!==void 0&&(r.push(this.getDependency("node",x)),c.push(this.getDependency("accessor",S)),a.push(this.getDependency("accessor",b)),u.push(w),l.push(y))}return Promise.all([Promise.all(r),Promise.all(c),Promise.all(a),Promise.all(u),Promise.all(l)]).then(function(f){const p=f[0],d=f[1],w=f[2],y=f[3],x=f[4],S=[];for(let g=0,T=p.length;g<T;g++){const G=p[g],A=d[g],U=w[g],V=y[g],M=x[g];if(G===void 0)continue;G.updateMatrix&&G.updateMatrix();const m=o._createAnimationTracks(G,A,U,V,M);if(m)for(let P=0;P<m.length;P++)S.push(m[P])}const b=new nl(i,void 0,S);return at(b,s),b})}createNodeMesh(t){const n=this.json,o=this,s=n.nodes[t];return s.mesh===void 0?null:o.getDependency("mesh",s.mesh).then(function(i){const r=o._getNodeRef(o.meshCache,s.mesh,i);return s.weights!==void 0&&r.traverse(function(c){if(c.isMesh)for(let a=0,u=s.weights.length;a<u;a++)c.morphTargetInfluences[a]=s.weights[a]}),r})}loadNode(t){const n=this.json,o=this,s=n.nodes[t],i=o._loadNodeShallow(t),r=[],c=s.children||[];for(let u=0,l=c.length;u<l;u++)r.push(o.getDependency("node",c[u]));const a=s.skin===void 0?Promise.resolve(null):o.getDependency("skin",s.skin);return Promise.all([i,Promise.all(r),a]).then(function(u){const l=u[0],f=u[1],p=u[2];p!==null&&l.traverse(function(d){d.isSkinnedMesh&&d.bind(p,dg)});for(let d=0,w=f.length;d<w;d++)l.add(f[d]);return l})}_loadNodeShallow(t){const n=this.json,o=this.extensions,s=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const i=n.nodes[t],r=i.name?s.createUniqueName(i.name):"",c=[],a=s._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(t)});return a&&c.push(a),i.camera!==void 0&&c.push(s.getDependency("camera",i.camera).then(function(u){return s._getNodeRef(s.cameraCache,i.camera,u)})),s._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(t)}).forEach(function(u){c.push(u)}),this.nodeCache[t]=Promise.all(c).then(function(u){let l;if(i.isBone===!0?l=new sl:u.length>1?l=new Ks:u.length===1?l=u[0]:l=new Ar,l!==u[0])for(let f=0,p=u.length;f<p;f++)l.add(u[f]);if(i.name&&(l.userData.name=i.name,l.name=r),at(l,i),i.extensions&&zt(o,l,i),i.matrix!==void 0){const f=new _s;f.fromArray(i.matrix),l.applyMatrix4(f)}else i.translation!==void 0&&l.position.fromArray(i.translation),i.rotation!==void 0&&l.quaternion.fromArray(i.rotation),i.scale!==void 0&&l.scale.fromArray(i.scale);if(!s.associations.has(l))s.associations.set(l,{});else if(i.mesh!==void 0&&s.meshCache.refs[i.mesh]>1){const f=s.associations.get(l);s.associations.set(l,{...f})}return s.associations.get(l).nodes=t,l}),this.nodeCache[t]}loadScene(t){const n=this.extensions,o=this.json.scenes[t],s=this,i=new Ks;o.name&&(i.name=s.createUniqueName(o.name)),at(i,o),o.extensions&&zt(n,i,o);const r=o.nodes||[],c=[];for(let a=0,u=r.length;a<u;a++)c.push(s.getDependency("node",r[a]));return Promise.all(c).then(function(a){for(let l=0,f=a.length;l<f;l++)i.add(a[l]);const u=l=>{const f=new Map;for(const[p,d]of s.associations)(p instanceof Vs||p instanceof _i)&&f.set(p,d);return l.traverse(p=>{const d=s.associations.get(p);d!=null&&f.set(p,d)}),f};return s.associations=u(i),i})}_createAnimationTracks(t,n,o,s,i){const r=[],c=t.name?t.name:t.uuid,a=[];It[i.path]===It.weights?t.traverse(function(p){p.morphTargetInfluences&&a.push(p.name?p.name:p.uuid)}):a.push(c);let u;switch(It[i.path]){case It.weights:u=mi;break;case It.rotation:u=gi;break;case It.translation:case It.scale:u=hi;break;default:switch(o.itemSize){case 1:u=mi;break;case 2:case 3:default:u=hi;break}break}const l=s.interpolation!==void 0?cg[s.interpolation]:kr,f=this._getArrayFromAccessor(o);for(let p=0,d=a.length;p<d;p++){const w=new u(a[p]+"."+It[i.path],n.array,f,l);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(w),r.push(w)}return r}_getArrayFromAccessor(t){let n=t.array;if(t.normalized){const o=Go(n.constructor),s=new Float32Array(n.length);for(let i=0,r=n.length;i<r;i++)s[i]=n[i]*o;n=s}return n}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(o){const s=this instanceof gi?rg:Ea;return new s(this.times,this.values,this.getValueSize()/3,o)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function _g(e,t,n){const o=t.attributes,s=new hs;if(o.POSITION!==void 0){const c=n.json.accessors[o.POSITION],a=c.min,u=c.max;if(a!==void 0&&u!==void 0){if(s.set(new Ye(a[0],a[1],a[2]),new Ye(u[0],u[1],u[2])),c.normalized){const l=Go(_n[c.componentType]);s.min.multiplyScalar(l),s.max.multiplyScalar(l)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=t.targets;if(i!==void 0){const c=new Ye,a=new Ye;for(let u=0,l=i.length;u<l;u++){const f=i[u];if(f.POSITION!==void 0){const p=n.json.accessors[f.POSITION],d=p.min,w=p.max;if(d!==void 0&&w!==void 0){if(a.setX(Math.max(Math.abs(d[0]),Math.abs(w[0]))),a.setY(Math.max(Math.abs(d[1]),Math.abs(w[1]))),a.setZ(Math.max(Math.abs(d[2]),Math.abs(w[2]))),p.normalized){const y=Go(_n[p.componentType]);a.multiplyScalar(y)}c.max(a)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(c)}e.boundingBox=s;const r=new al;s.getCenter(r.center),r.radius=s.min.distanceTo(s.max)/2,e.boundingSphere=r}function wr(e,t,n){const o=t.attributes,s=[];function i(r,c){return n.getDependency("accessor",r).then(function(a){e.setAttribute(c,a)})}for(const r in o){const c=Oo[r]||r.toLowerCase();c in e.attributes||s.push(i(o[r],c))}if(t.indices!==void 0&&!e.index){const r=n.getDependency("accessor",t.indices).then(function(c){e.setIndex(c)});s.push(r)}return wo.workingColorSpace!==ft&&"COLOR_0"in o&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${wo.workingColorSpace}" not supported.`),at(e,t),_g(e,t,n),Promise.all(s).then(function(){return t.targets!==void 0?lg(e,t.targets,n):e})}const _o=new WeakMap;class Do extends Cr{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,n,o,s){const i=new ds(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,r=>{this.parse(r,n,s)},o,s)}parse(t,n,o=()=>{}){this.decodeDracoFile(t,n,null,null,vt,o).catch(o)}decodeDracoFile(t,n,o,s,i=ft,r=()=>{}){const c={attributeIDs:o||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!o,vertexColorSpace:i};return this.decodeGeometry(t,c).then(n).catch(r)}decodeGeometry(t,n){const o=JSON.stringify(n);if(_o.has(t)){const a=_o.get(t);if(a.key===o)return a.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const i=this.workerNextTaskID++,r=t.byteLength,c=this._getWorker(i,r).then(a=>(s=a,new Promise((u,l)=>{s._callbacks[i]={resolve:u,reject:l},s.postMessage({type:"decode",id:i,taskConfig:n,buffer:t},[t])}))).then(a=>this._createGeometry(a.geometry));return c.catch(()=>!0).then(()=>{s&&i&&this._releaseTask(s,i)}),_o.set(t,{key:o,promise:c}),c}_createGeometry(t){const n=new Rr;t.index&&n.setIndex(new Sn(t.index.array,1));for(let o=0;o<t.attributes.length;o++){const s=t.attributes[o],i=s.name,r=s.array,c=s.itemSize,a=new Sn(r,c);i==="color"&&(this._assignVertexColorSpace(a,s.vertexColorSpace),a.normalized=!(r instanceof Float32Array)),n.setAttribute(i,a)}return n}_assignVertexColorSpace(t,n){if(n!==vt)return;const o=new Mt;for(let s=0,i=t.count;s<i;s++)o.fromBufferAttribute(t,s),wo.colorSpaceToWorking(o,vt),t.setXYZ(s,o.r,o.g,o.b)}_loadLibrary(t,n){const o=new ds(this.manager);return o.setPath(this.decoderPath),o.setResponseType(n),o.setWithCredentials(this.withCredentials),new Promise((s,i)=>{o.load(t,s,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(o=>{const s=o[0];t||(this.decoderConfig.wasmBinary=o[1]);const i=hg.toString(),r=["/* draco decoder */",s,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([r]))}),this.decoderPending}_getWorker(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(i){const r=i.data;switch(r.type){case"decode":s._callbacks[r.id].resolve(r);break;case"error":s._callbacks[r.id].reject(r);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,i){return s._taskLoad>i._taskLoad?-1:1});const o=this.workerPool[this.workerPool.length-1];return o._taskCosts[t]=n,o._taskLoad+=n,o})}_releaseTask(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function hg(){let e,t;onmessage=function(r){const c=r.data;switch(c.type){case"init":e=c.decoderConfig,t=new Promise(function(l){e.onModuleLoaded=function(f){l({draco:f})},DracoDecoderModule(e)});break;case"decode":const a=c.buffer,u=c.taskConfig;t.then(l=>{const f=l.draco,p=new f.Decoder;try{const d=n(f,p,new Int8Array(a),u),w=d.attributes.map(y=>y.array.buffer);d.index&&w.push(d.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:d},w)}catch(d){console.error(d),self.postMessage({type:"error",id:c.id,error:d.message})}finally{f.destroy(p)}});break}};function n(r,c,a,u){const l=u.attributeIDs,f=u.attributeTypes;let p,d;const w=c.GetEncodedGeometryType(a);if(w===r.TRIANGULAR_MESH)p=new r.Mesh,d=c.DecodeArrayToMesh(a,a.byteLength,p);else if(w===r.POINT_CLOUD)p=new r.PointCloud,d=c.DecodeArrayToPointCloud(a,a.byteLength,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const y={index:null,attributes:[]};for(const x in l){const S=self[f[x]];let b,g;if(u.useUniqueIDs)g=l[x],b=c.GetAttributeByUniqueId(p,g);else{if(g=c.GetAttributeId(p,r[l[x]]),g===-1)continue;b=c.GetAttribute(p,g)}const T=s(r,c,p,x,S,b);x==="color"&&(T.vertexColorSpace=u.vertexColorSpace),y.attributes.push(T)}return w===r.TRIANGULAR_MESH&&(y.index=o(r,c,p)),r.destroy(p),y}function o(r,c,a){const l=a.num_faces()*3,f=l*4,p=r._malloc(f);c.GetTrianglesUInt32Array(a,f,p);const d=new Uint32Array(r.HEAPF32.buffer,p,l).slice();return r._free(p),{array:d,itemSize:1}}function s(r,c,a,u,l,f){const p=f.num_components(),w=a.num_points()*p,y=w*l.BYTES_PER_ELEMENT,x=i(r,l),S=r._malloc(y);c.GetAttributeDataArrayForAllPoints(a,f,x,y,S);const b=new l(r.HEAPF32.buffer,S,w).slice();return r._free(S),{name:u,array:b,itemSize:p}}function i(r,c){switch(c){case Float32Array:return r.DT_FLOAT32;case Int8Array:return r.DT_INT8;case Int16Array:return r.DT_INT16;case Int32Array:return r.DT_INT32;case Uint8Array:return r.DT_UINT8;case Uint16Array:return r.DT_UINT16;case Uint32Array:return r.DT_UINT32}}}const mg={__name:"PuppetModelView",props:{puppet:{type:Object,default:null}},setup(e){const t=e,n=Q(null);let o=null,s=null,i=null,r=0,c=null,a=null,u=new ll,l=null,f=null,p=0,d=!1;function w(){if(d)return;const b=n.value;if(!b){console.log("[PuppetModelView] Container not ready, retrying..."),setTimeout(w,100);return}console.log("[PuppetModelView] Initializing Three.js..."),s=new Nr,i=new Uo(45,1,.1,1e3),i.position.set(0,1,3),o=new Or({antialias:!0,alpha:!0}),o.setPixelRatio(window.devicePixelRatio||1),o.outputColorSpace=vt,f=new Do,f.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/"),f.setCrossOrigin("anonymous"),console.log("[PuppetModelView] Draco loader initialized:",!!f),b.innerHTML="",b.appendChild(o.domElement);const g=new Gr(16777215,1.2),T=new $s(16777215,1.5);T.position.set(3,5,2);const G=new $s(16777215,.8);G.position.set(-2,3,4);const A=new Sr(16777215,1,10);A.position.set(0,2,3),s.add(g,T,G,A);const U=()=>{if(!b||!o)return;let M=b.clientWidth,m=b.clientHeight;if(!M||!m){const P=b.getBoundingClientRect();if(M=P.width||200,m=P.height||200,!P.width||!P.height){requestAnimationFrame(U);return}}o.setSize(M,m,!1),i.aspect=M/Math.max(1,m),i.updateProjectionMatrix()};U(),l=new ResizeObserver(U),l.observe(b),requestAnimationFrame(()=>{U(),requestAnimationFrame(()=>{U(),requestAnimationFrame(U)})});const V=()=>{if(!o||!s||!i)return;r=requestAnimationFrame(V);const M=u.getDelta();a&&a.update(M),c&&(c.rotation.y+=M*.6),o.render(s,i)};V(),d=!0,console.log("[PuppetModelView] Three.js initialized successfully, container size:",b.clientWidth,"x",b.clientHeight)}function y(){a&&(a.stopAllAction(),a=null),c&&(s.remove(c),c.traverse(b=>{b.isMesh&&(b.geometry&&b.geometry.dispose(),Array.isArray(b.material)?b.material.forEach(g=>{g.map&&g.map.dispose(),g&&g.dispose&&g.dispose()}):b.material&&(b.material.map&&b.material.map.dispose(),b.material.dispose&&b.material.dispose()))}),c=null)}function x(b){const g=new hs().setFromObject(b),T=new Ye,G=new Ye;g.getSize(T),g.getCenter(G),b.position.sub(G);const A=0,U=0,V=0;b.position.add(new Ye(A,U,V)),b.scale.multiplyScalar(.6);const m=o==null?void 0:o.domElement,P=m?m.clientWidth||m.width:200,L=m?m.clientHeight||m.height:200,F=Math.max(1e-6,P/Math.max(1,L)),B=i.fov*(Math.PI/180),W=2*Math.atan(Math.tan(B/2)*F),J=1.2,z=T.y/2/Math.tan(B/2),Z=T.x/2/Math.tan(W/2),he=J*Math.max(z,Z,.1);i.position.set(0,0,he),i.lookAt(0,0,0)}async function S(b){var A,U;if(!b)return;console.log("[PuppetModelView] Loading puppet:",b.name),w(),y();const g=++p,T=new No;T.setCrossOrigin("anonymous"),f||(console.log("[PuppetModelView] Creating Draco loader..."),f=new Do,f.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/"),f.setCrossOrigin("anonymous")),T.setDRACOLoader(f),console.log("[PuppetModelView] Draco loader set:",!!f);let G=b.modelUrl||"";if(console.log("[PuppetModelView] Original modelUrl:",G),console.log("[PuppetModelView] Puppet image:",b.image),!G&&b.image&&/.webp($|\?)/i.test(b.image)&&(G=b.image.replace(/\.webp(\?.*)?$/i,".glb"),console.log("[PuppetModelView] Generated modelUrl from image:",G)),G&&!/^https?:\/\//i.test(G)&&!G.startsWith("/assets/")){const V=G;G=_e(G),console.log("[PuppetModelView] Converted URL:",V,"->",G)}if(console.log("[PuppetModelView] Model URL:",G),!G){console.log("[PuppetModelView] No model URL found");return}try{console.log("[PuppetModelView] Starting to load:",G);const V=await T.loadAsync(G);if(console.log("[PuppetModelView] GLTF loaded:",V),g!==p){console.log("[PuppetModelView] Ignoring outdated load result for:",b.name),V&&V.scene&&V.scene.traverse(M=>{M.isMesh&&(M.geometry&&M.geometry.dispose(),Array.isArray(M.material)?M.material.forEach(m=>{m.map&&m.map.dispose(),m.dispose&&m.dispose()}):M.material&&(M.material.map&&M.material.map.dispose(),M.material.dispose&&M.material.dispose()))});return}if(console.log("[PuppetModelView] Applying model for:",b.name),c=V.scene||((A=V.scenes)==null?void 0:A[0]),!c){console.error("[PuppetModelView] No scene found in GLTF");return}s.add(c),V.animations&&V.animations.length&&(a=new bi(c),a.clipAction(V.animations[0]).play()),x(c),console.log("[PuppetModelView] Model loaded successfully:",b.name,"Scene children:",s.children.length)}catch(V){if(console.error("[PuppetModelView] Load failed:",V),console.error("[PuppetModelView] Failed URL:",G),console.error("[PuppetModelView] Puppet data:",b),V.message.includes("DRACOLoader")){console.log("[PuppetModelView] Retrying without Draco decoder...");try{const M=new No;M.setCrossOrigin("anonymous");const m=await M.loadAsync(G);if(g===p&&(c=m.scene||((U=m.scenes)==null?void 0:U[0]),c)){s.add(c),m.animations&&m.animations.length&&(a=new bi(c),a.clipAction(m.animations[0]).play()),x(c),console.log("[PuppetModelView] Model loaded successfully without Draco:",b.name);return}}catch(M){console.error("[PuppetModelView] Fallback load also failed:",M)}}if(g===p){const M=new Pr(1,1,1),m=new Fo({color:8947967});c=new Ho(M,m),s.add(c),x(c)}}}return rs(()=>t.puppet,async b=>{await Fn(),S(b)},{immediate:!0}),Nt(()=>{console.log("[PuppetModelView] Component mounted"),Fn(()=>{n.value&&w()})}),Gs(()=>{console.log("[PuppetModelView] Cleaning up..."),cancelAnimationFrame(r),y(),s&&s.traverse(b=>{b.isMesh&&(b.geometry&&b.geometry.dispose(),Array.isArray(b.material)?b.material.forEach(g=>{g.map&&g.map.dispose(),g.dispose&&g.dispose()}):b.material&&(b.material.map&&b.material.map.dispose(),b.material.dispose&&b.material.dispose()))}),o&&(o.dispose(),o.forceContextLoss&&o.forceContextLoss()),l&&n.value&&l.unobserve(n.value),o=null,s=null,i=null,d=!1,p=0,console.log("[PuppetModelView] Cleanup completed")}),(b,g)=>(se(),ie("div",{ref_key:"mountEl",ref:n,class:"model-canvas"},null,512))}},gg=en(mg,[["__scopeId","data-v-a53148b7"]]),bg={class:"warehouse"},wg={class:"warehouse__resources"},yg={class:"resource-icon"},vg=["src","alt"],Tg={class:"resource-value"},Mg={key:0,class:"warehouse__main"},Cg={class:"warehouse__sidebar"},xg={class:"puppet-list"},Sg=["onClick","onMouseenter"],Lg={class:"puppet-card__quantity"},Ag={class:"puppet-card__image"},Ig=["src","alt"],Eg={class:"puppet-card__info"},Rg={class:"puppet-card__name"},kg={class:"puppet-card__level"},Pg={class:"puppet-detail__header"},Ng={class:"puppet-detail__name"},Og={class:"puppet-detail__content"},Gg={class:"puppet-detail__row"},Dg={class:"puppet-detail__model"},Fg={class:"puppet-detail__description"},Hg={class:"puppet-detail__row"},Ug={class:"puppet-detail__stats"},Bg={class:"stats-section"},jg={class:"stat-item"},Vg={class:"stat-value"},Kg={class:"stat-item"},Wg={class:"stat-value"},zg={class:"stat-item"},qg={class:"stat-value"},Xg={class:"stat-item"},Jg={class:"stat-value"},Yg={class:"stat-item"},Zg={class:"stat-value"},Qg={class:"stat-item"},e0={class:"stat-value"},t0={class:"stat-item"},n0={class:"stat-value"},s0={class:"equipment-section"},o0={class:"equipment-slots"},i0=["src","alt"],r0={key:1,class:"equipment-icon"},c0={key:0,class:"skill-section"},a0={class:"skill-info"},l0={class:"skill-text"},u0={class:"skill-name"},f0={class:"skill-cooldown"},p0={class:"skill-effect"},d0={class:"skill-icon"},$0=["src","alt"],_0={key:1},h0={class:"puppet-detail__upgrade"},m0={class:"upgrade-cost"},g0={class:"cost-amount"},b0=["disabled"],w0={class:"warehouse__placeholder",key:"placeholder"},y0={__name:"Warehouse",setup(e,{expose:t}){const n=["SpiritalSpark","RecallGear","ResonantCrystal","RefinedCopper","HeartCrystalDust"],o={SpiritalSpark:{name:"",icon:_e("resource/spiritual_spark.webp")},RecallGear:{name:"",icon:_e("resource/recall_gear.webp")},ResonantCrystal:{name:"",icon:_e("resource/resonant_star_crystal/resonant_star_crystal.webp")},RefinedCopper:{name:"",icon:_e("resource/refined_copper_ingot/refined_copper_ingot.webp")},HeartCrystalDust:{name:"",icon:_e("resource/heart_crystal_dust.webp")}};function s(M){return n.map(m=>({icon:o[m].icon,name:o[m].name,value:Number((M==null?void 0:M[m])??0)}))}const i={IronWall:"",Arcanist:"",CraftsMan:"",Mechanic:"",Resonator:""};function r(M){const m=Number(M??1);return m===1?5:m===2?10:m===3?20:m===4?30:0}function c(M){return(M||[]).map((m,P)=>{var $t,Oe,Be,Je,nt,Ge;const L=(m==null?void 0:m.copper_info)||{},F=(L==null?void 0:L.skill)||{},B=(m==null?void 0:m.equipment_slot)||{},W=(B==null?void 0:B.slot1)||null,J=(B==null?void 0:B.slot2)||null,z=(m==null?void 0:m.attribute)||{},Z=(($t=W==null?void 0:W.equipment_base)==null?void 0:$t.attribute)||{},he=((Oe=J==null?void 0:J.equipment_base)==null?void 0:Oe.attribute)||{},et=Number(Z.attack||0)+Number(he.attack||0),Ne=Number(Z.defense||0)+Number(he.defense||0),Ce=Number(Z.dodge||0)+Number(he.dodge||0),Bt=m==null?void 0:m.copper_type,tt=(m==null?void 0:m.level)??1;return{id:Number((m==null?void 0:m.id)??P+1),name:(L==null?void 0:L.name)??"",level:tt,suffix:(m==null?void 0:m.suffix)??0,image:_e((L==null?void 0:L.icon_url)||""),modelUrl:_e((L==null?void 0:L.model_url)||""),quantity:1,description:(L==null?void 0:L.description)||"",stats:{level:`${tt}/5`,health:Number(z.health||0),live_left:Number((m==null?void 0:m.live_left)??0),attack:{base:Number(z.attack||0),bonus:et},defense:{base:Number(z.defense||0),bonus:Ne},dodge:{base:Number(z.dodge||0),bonus:Ce},class:i[Bt]||""},equipment:[W?{name:((Be=W.equipment_base)==null?void 0:Be.name)||"",icon:_e(((Je=W.equipment_base)==null?void 0:Je.resource_url)||""),equipped:!0,locked:!1}:{name:"",icon:"",equipped:!1,locked:!1},B!=null&&B.is_slot2_locked?{name:"",icon:"",equipped:!1,locked:!0}:J?{name:((nt=J.equipment_base)==null?void 0:nt.name)||"",icon:_e(((Ge=J.equipment_base)==null?void 0:Ge.resource_url)||""),equipped:!0,locked:!1}:{name:"",icon:"",equipped:!1,locked:!1}],skill:{name:(F==null?void 0:F.name)||"",cooldown:(F==null?void 0:F.cool_down)!=null?`${F.cool_down}`:"",effect:(F==null?void 0:F.description)||"",icon:_e((F==null?void 0:F.resource_url)||"")},upgradeCost:r(tt)}})}function a(M,m,P=[]){if(!M||typeof M!="object")return null;if(Object.prototype.hasOwnProperty.call(M,m))return[...P,m];if(Array.isArray(M)){for(let L=0;L<M.length;L++){const F=a(M[L],m,[...P,L]);if(F)return F}return null}for(const L of Object.keys(M)){const F=a(M[L],m,[...P,L]);if(F)return F}return null}function u(M,m){return m.reduce((P,L)=>P!=null?P[L]:void 0,M)}const l=Q([]);Nt(async()=>{try{const M=ps();l.value=s(M)}catch{l.value=s({})}});function f(M){let m=M;if(typeof M=="string")try{m=JSON.parse(M)}catch{}m&&m.type_msg&&(m.type_msg==="upgrade_cost_error"?alert(m.content||""):console.log("[GlobalInfo]",m))}Nt(()=>{try{wm(f)}catch{}});const p=Q([]);Nt(()=>{try{const M=uo();let m=M&&Array.isArray(M.coppers)?M.coppers:[];if(!Array.isArray(m)){const P=a(M,"coppers");if(console.log("[Warehouse] copper key path:",P),P){const L=u(M,P);console.log("[Warehouse] copper found by path:",L),Array.isArray(L)&&(m=L)}!Array.isArray(m)&&M&&M.entries&&console.log("[Warehouse] copper entries sample:",M.entries)}console.log("[Warehouse] copper array length:",Array.isArray(m)?m.length:"not array"),p.value=c(m),Array.isArray(p.value)&&p.value.length>0&&(d.value=p.value[0]),!d.value&&Array.isArray(p.value)&&p.value.length>0&&(d.value=p.value[0])}catch{p.value=[]}});const d=Q(null),w=Q([]),y=Q(null),x=Q(null),S=Q(null);function b(M,m){M&&(w.value[m]=M)}async function g(M,m){d.value=M,await Fn();const P=w.value[m];if(P&&typeof P.scrollIntoView=="function"&&P.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"}),y.value=m,x.value)try{x.value.scrollTo({top:0,behavior:"smooth"})}catch{x.value.scrollTop=0}setTimeout(()=>{y.value===m&&(y.value=null)},320)}const T=Q(!1);function G(){T.value=!0}function A(){return T.value?(T.value=!1,!0):!1}t({handleBack:A});async function U(M){try{const m=ps();l.value=s(m);const P=uo(),L=Array.isArray(P==null?void 0:P.coppers)?P.coppers:[];p.value=c(L)}catch{}}async function V(){if(!d.value)return;if(Number(d.value.level||0)>=5){alert("");return}const M=d.value.id,m=bm(M);if(!m||m.type!=="success"){alert(m&&m.content?m.content:"");return}try{const P=ps();l.value=s(P);const L=uo(),F=Array.isArray(L==null?void 0:L.coppers)?L.coppers:[];p.value=c(F);const B=p.value.find(W=>W.id===M);B&&(d.value=B)}catch{}}return(M,m)=>(se(),ie("div",bg,[v("div",wg,[(se(!0),ie(He,null,Qs(l.value,P=>(se(),ie("div",{class:"resource-item",key:P.name},[v("div",yg,[v("img",{src:P.icon,alt:P.name},null,8,vg)]),v("div",Tg,fe(P.value),1)]))),128))]),T.value?Tt("",!0):(se(),ie("div",Mg,[v("div",Cg,[m[2]||(m[2]=v("div",{class:"warehouse__title"},"",-1)),v("div",xg,[(se(!0),ie(He,null,Qs(p.value,(P,L)=>{var F;return se(),ie("div",{class:Dt(["puppet-card",{"puppet-card--selected":((F=d.value)==null?void 0:F.id)===P.id,"puppet-card--pulse":y.value===L,"puppet-card--hover":S.value===L}]),key:P.id,ref_for:!0,ref:B=>b(B,L),onClick:B=>g(P,L),onMouseenter:B=>S.value=L,onMouseleave:m[0]||(m[0]=B=>S.value=null)},[v("div",Lg,fe(P.level),1),v("div",Ag,[v("img",{src:P.image,alt:P.name},null,8,Ig)]),v("div",Eg,[v("div",Rg,fe(P.name)+fe(P.suffix),1),v("div",kg,fe(P.level)+"",1)])],42,Sg)}),128)),v("div",{class:"puppet-card puppet-card--add",onClick:G},[...m[1]||(m[1]=[v("div",{class:"puppet-card__add-icon"},"+",-1),v("div",{class:"puppet-card__add-text"},"",-1)])])])]),v("div",{class:"warehouse__detail",ref_key:"detailWrap",ref:x},[we(df,{name:"fade-slide",mode:"out-in"},{default:_c(()=>{var P,L,F,B;return[d.value?(se(),ie("div",{class:"puppet-detail",key:((P=d.value)==null?void 0:P.id)||"none"},[v("div",Pg,[v("h2",Ng,fe(d.value.name),1)]),v("div",Og,[v("div",Gg,[v("div",Dg,[we(gg,{puppet:d.value},null,8,["puppet"])]),v("div",Fg,fe(d.value.description),1)]),v("div",Hg,[v("div",Ug,[v("div",Bg,[v("div",jg,[m[3]||(m[3]=v("span",{class:"stat-label"},":",-1)),v("span",Vg,fe(d.value.stats.health),1)]),v("div",Kg,[m[4]||(m[4]=v("span",{class:"stat-label"},":",-1)),v("span",Wg,fe(d.value.stats.level),1)]),v("div",zg,[m[5]||(m[5]=v("span",{class:"stat-label"},":",-1)),v("span",qg,fe(d.value.stats.live_left),1)]),v("div",Xg,[m[6]||(m[6]=v("span",{class:"stat-label"},":",-1)),v("span",Jg,fe(d.value.stats.attack.base),1)]),v("div",Yg,[m[7]||(m[7]=v("span",{class:"stat-label"},":",-1)),v("span",Zg,fe(d.value.stats.defense.base),1)]),v("div",Qg,[m[8]||(m[8]=v("span",{class:"stat-label"},":",-1)),v("span",e0,fe(d.value.stats.dodge.base)+"% ",1)]),v("div",t0,[m[9]||(m[9]=v("span",{class:"stat-label"},":",-1)),v("span",n0,fe(d.value.stats.class),1)])])]),v("div",s0,[m[10]||(m[10]=v("h4",{class:"section-title"},"",-1)),v("div",o0,[(se(!0),ie(He,null,Qs(d.value.equipment,(W,J)=>(se(),ie("div",{key:J,class:Dt(["equipment-slot",{"equipment-slot--empty":!W.equipped&&!W.locked,"equipment-slot--locked":W.locked}])},[W.equipped&&W.icon&&(W.icon.startsWith("/")||W.icon.startsWith("http"))?(se(),ie("img",{key:0,src:W.icon,alt:W.name,class:"equipment-icon"},null,8,i0)):(se(),ie("span",r0,fe(W.locked?"":W.icon),1))],2))),128))])])]),((F=(L=d.value)==null?void 0:L.stats)==null?void 0:F.class)!==""?(se(),ie("div",c0,[m[11]||(m[11]=v("h4",{class:"section-title"},"",-1)),v("div",a0,[v("div",l0,[v("div",u0,fe(d.value.skill.name),1),v("div",f0,": "+fe(d.value.skill.cooldown),1),v("div",p0,fe(d.value.skill.effect),1)]),v("div",d0,[d.value.skill.icon&&(d.value.skill.icon.startsWith("/")||d.value.skill.icon.startsWith("http"))?(se(),ie("img",{key:0,src:d.value.skill.icon,alt:d.value.skill.name,class:"skill-icon-img"},null,8,$0)):(se(),ie("span",_0,fe(d.value.skill.icon),1))])])])):Tt("",!0)]),v("div",h0,[v("div",m0,[v("span",g0,fe(d.value.level>=5?"":"X "+d.value.upgradeCost),1)]),v("button",{class:"upgrade-btn",onClick:V,disabled:((B=d.value)==null?void 0:B.level)>=5},[...m[12]||(m[12]=[v("span",{class:"upgrade-icon"},"",-1)])],8,b0)])])):(se(),ie("div",w0,[...m[13]||(m[13]=[v("p",null,"",-1)])]))]}),_:1})],512)])),T.value?(se(),si(Nm,{key:1,onDraw:U})):Tt("",!0)]))}},v0=en(y0,[["__scopeId","data-v-b60e5d23"]]),T0={class:"panel",style:{left:"24px",right:"auto"}},M0={__name:"TopLeftPanel",emits:["back","open-settings"],setup(e,{emit:t}){return(n,o)=>(se(),ie("div",T0,[v("button",{class:"btn",onClick:o[0]||(o[0]=s=>n.$emit("back")),title:""},[...o[2]||(o[2]=[v("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[v("path",{d:"M15 18L9 12L15 6",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),v("span",{class:"sr-only"},"",-1)])]),v("button",{class:"btn",onClick:o[1]||(o[1]=s=>n.$emit("open-settings")),title:""},[...o[3]||(o[3]=[v("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[v("path",{d:"M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z",stroke:"#ffffff","stroke-width":"2"}),v("path",{d:"M19.4 15A7.964 7.964 0 0 0 20 12C20 11.49 19.95 10.99 19.86 10.5L22 8.5L20 5.5L17.34 6.07C16.78 5.58 16.14 5.18 15.44 4.9L15 2H9L8.56 4.9C7.86 5.18 7.22 5.58 6.66 6.07L4 5.5L2 8.5L4.14 10.5C4.05 10.99 4 11.49 4 12C4 12.51 4.05 13.01 4.14 13.5L2 15.5L4 18.5L6.66 17.93C7.22 18.42 7.86 18.82 8.56 19.1L9 22H15L15.44 19.1C16.14 18.82 16.78 18.42 17.34 17.93L20 18.5L22 15.5L19.86 13.5C19.95 13.01 20 12.51 20 12",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),v("span",{class:"sr-only"},"",-1)])])]))}},yr=en(M0,[["__scopeId","data-v-f5af82d2"]]),C0={class:"startmenu"},x0={key:0,class:"settings-local"},S0={__name:"StartMenu",emits:["started"],setup(e,{emit:t}){const n=Q(null),o=Q(null);let s=null,i=null,r=null,c=null,a=null,u=1.2;const l=Q(!1),f=Q(!1),p=t;function d(){if(c=requestAnimationFrame(d),a){const A=Date.now()*.001;a.position.y=Math.sin(A*.8)*.1,a.rotation.y=Math.sin(A*.6)*.1;const U=u+Math.sin(A*1.2)*.04;a.scale.setScalar(U)}r&&r.render(s,i)}function w(){!r||!i||(i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight))}function y(){c&&(cancelAnimationFrame(c),c=null)}function x(){c||(c=requestAnimationFrame(d))}function S(){try{y()}catch{}try{window.removeEventListener("resize",w)}catch{}try{s&&(s.traverse(A=>{if(A.isMesh){A.geometry&&A.geometry.dispose&&A.geometry.dispose();const U=A.material;Array.isArray(U)?U.forEach(V=>V&&V.dispose&&V.dispose()):U&&U.dispose&&U.dispose()}}),s.clear())}catch{}try{if(r){r.clear(!0,!0,!0),r.dispose();const A=r.getContext&&r.getContext(),U=A&&A.getExtension&&A.getExtension("WEBGL_lose_context");U&&U.loseContext&&U.loseContext()}}catch{}s=null,i=null,r=null,a=null}async function b(A=null){try{window.getAssetUrl=_e,window.precacheAllResources=Ro,window.getCacheStatus=jf}catch{}A&&A(0,100,10),await new Promise(F=>setTimeout(F,30)),s=new Nr,s.background=new Mt("#a0a0a0"),i=new Uo(50,1.333,.1,1e3),i.position.set(-3.655,.2,-.006),i.rotation.set(-1.618275,-1.538307,-1.6183,"XYZ"),A&&A(0,100,20),await new Promise(F=>setTimeout(F,30)),r=new Or({antialias:!0,canvas:n.value}),r.setSize(window.innerWidth,window.innerHeight),r.setPixelRatio(window.devicePixelRatio),A&&A(0,100,30),await new Promise(F=>setTimeout(F,30));const U=new Gr(4210752,.4);s.add(U);const V=new $s(16777215,12.5);V.position.set(-5,-2,1),s.add(V),A&&A(0,100,40),await new Promise(F=>setTimeout(F,50));const M=new Do;M.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.7/");const m=new No;m.setDRACOLoader(M),A&&A(0,100,50),await new Promise(F=>setTimeout(F,30));const P=window.getAssetUrl?window.getAssetUrl("logo.glb"):"./assets/logo.glb",L=()=>new Promise((F,B)=>{m.load(P,W=>F(W),void 0,W=>B(W))});try{if(A&&A(0,100,60),!(await fetch(P,{method:"HEAD",mode:"cors",credentials:"omit"})).ok)throw new Error("logo not ok");A&&A(0,100,70);const B=await L();A&&A(0,100,80),B.scene.position.set(0,0,0),s.add(B.scene);const J=new hs().setFromObject(B.scene).getCenter(new Ye);B.scene.position.set(-J.x,-J.y,-J.z);try{B.scene.scale.setScalar(u)}catch{}a=B.scene,A&&A(0,100,90),await new Promise(z=>setTimeout(z,50)),l.value=!0,A&&A(0,100,100)}catch{try{A&&A(0,100,60);const B=await L();A&&A(0,100,80),B.scene.position.set(0,0,0),s.add(B.scene);const J=new hs().setFromObject(B.scene).getCenter(new Ye);B.scene.position.set(-J.x,-J.y,-J.z);try{B.scene.scale.setScalar(u)}catch{}a=B.scene,A&&A(0,100,90),await new Promise(z=>setTimeout(z,50)),l.value=!0,A&&A(0,100,100)}catch{console.warn("3D");const W=new Pr(1,1,1),J=new cn({color:16096779}),z=new Ho(W,J);s.add(z),a=z,A&&A(0,100,100),l.value=!0}}window.addEventListener("resize",w),d(),window.__START_MENU_PAUSE__=()=>y(),window.__START_MENU_RESUME__=()=>x()}function g(){p("started"),y()}function T(){f.value=!0}function G(){f.value=!1}return Nt(()=>{console.log("StartMenu..."),window.__INIT_THREE_SCENE__=async A=>{console.log("3D..."),await b(A),console.log("3D")}}),Gs(()=>{S()}),(A,U)=>(se(),ie("div",C0,[v("canvas",{ref_key:"canvasRef",ref:n,class:"startmenu__canvas"},null,512),hc(v("div",{ref_key:"uiRootRef",ref:o,class:"startmenu-ui"},[v("button",{id:"start-btn",class:"startmenu-btn","aria-label":"",onClick:g},""),v("button",{id:"settings-btn",class:"startmenu-btn","aria-label":"",onClick:T},"")],512),[[Yc,l.value]]),f.value?(se(),ie("div",x0,[v("div",{class:"settings-local__card"},[v("div",{class:"settings-local__header"},[U[0]||(U[0]=v("div",{class:"settings-local__title"},"",-1)),v("button",{class:"settings-local__close",onClick:G,"aria-label":""},"")]),U[1]||(U[1]=v("div",{class:"settings-local__content"},[v("div",{class:"settings-local__row"},"")],-1))])])):Tt("",!0)]))}},L0=en(S0,[["__scopeId","data-v-3d5eb1d6"]]),A0={class:"stage"},I0={key:0,style:{position:"relative",width:"100%",height:"100%"}},E0={key:1,class:"modal"},R0={class:"modal-title"},k0={key:2,class:"overlay",style:{"z-index":"30000","align-items":"flex-start","justify-content":"flex-start",background:"rgba(0,0,0,0.25)"}},P0={class:"settings"},N0={class:"settings__content"},O0={class:"settings__state"},G0={__name:"App",setup(e){const t=Q(!1),n=Q(null),o=Q(!1),s=Q(null),i=Q([]);Q(0);const r=Q(!0);function c(b){n.value!==b&&(i.value.push(n.value),n.value=b),window.__START_MENU_PAUSE__&&window.__START_MENU_PAUSE__(),t.value=!0}function a(){n.value=null,i.value=[],window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),t.value=!1}function u(){o.value=!0,t.value=!0}function l(){o.value=!1,n.value||(window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),t.value=!1)}function f(){if(o.value){l();return}if(n.value){if(n.value==="warehouse"&&s.value&&s.value.handleBack&&s.value.handleBack())return;const b=i.value.pop()??null;n.value=b,b||(r.value?(window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),t.value=!1):(r.value=!0,t.value=!1));return}if(!r.value){r.value=!0,window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),t.value=!1;return}}const p=Q(!0),d=Q(null);function w(){p.value=!p.value}function y(){try{const b={version:1,savedAt:Date.now(),payload:{}},g=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),T=document.createElement("a");T.href=URL.createObjectURL(g),T.download="save.json",T.click(),URL.revokeObjectURL(T.href)}catch{}}function x(){try{d.value&&d.value.click()}catch{}}function S(b){try{const g=b.target&&b.target.files&&b.target.files[0];if(!g)return;const T=new FileReader;T.onload=()=>{try{JSON.parse(String(T.result||"{}"))}catch{}b.target.value=""},T.readAsText(g)}catch{}}return(b,g)=>(se(),ie("div",A0,[hc(we(L0,{onStarted:g[0]||(g[0]=T=>r.value=!1)},null,512),[[Yc,r.value]]),r.value?Tt("",!0):(se(),si(yr,{key:0,onBack:f,onOpenSettings:u})),we(Wf,{onStartGame:g[1]||(g[1]=T=>c("start")),onOpenWarehouse:g[2]||(g[2]=T=>c("warehouse")),onOpenTutorial:g[3]||(g[3]=T=>c("tutorial")),onOpenEncyclopedia:g[4]||(g[4]=T=>c("encyclopedia"))}),n.value?(se(),ie("div",{key:1,class:Dt(["overlay",{"overlay--warehouse":n.value==="warehouse"}])},[n.value==="warehouse"?(se(),ie("div",I0,[we(yr,{onBack:f,onOpenSettings:u}),we(v0,{ref_key:"warehouseRef",ref:s},null,512)])):(se(),ie("div",E0,[v("h2",R0,fe(n.value==="warehouse"?"  Copper Warehouse":n.value==="tutorial"?"  Tutorial":n.value==="encyclopedia"?"  Game Encyclopedia":"  Start Game"),1),g[5]||(g[5]=v("p",{class:"modal-body"},"",-1)),v("button",{class:"close-btn",onClick:a},"")]))],2)):Tt("",!0),o.value?(se(),ie("div",k0,[v("div",P0,[v("div",{class:"settings__header"},[g[7]||(g[7]=v("div",{class:"settings__title"},"",-1)),v("button",{class:"settings__close",onClick:l,"aria-label":""},[...g[6]||(g[6]=[v("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[v("path",{d:"M18 6L6 18M6 6l12 12",stroke:"#fff","stroke-width":"2","stroke-linecap":"round"})],-1)])])]),v("div",N0,[v("button",{class:"settings__item",onClick:w},[g[8]||(g[8]=no('<span class="settings__icon" data-v-1f63121e><svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-1f63121e><path d="M9 18V5l10-2v9" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-1f63121e></path><path d="M9 18a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm10-6a3 3 0 1 1-6 0" stroke="#fff" stroke-width="2" stroke-linecap="round" data-v-1f63121e></path></svg></span><span class="settings__label" data-v-1f63121e></span>',2)),v("span",O0,fe(p.value?"":""),1)]),v("button",{class:"settings__item",onClick:y},[...g[9]||(g[9]=[no('<span class="settings__icon" data-v-1f63121e><svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-1f63121e><path d="M12 3v12m0 0l-4-4m4 4l4-4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-1f63121e></path><path d="M4 19h16" stroke="#fff" stroke-width="2" stroke-linecap="round" data-v-1f63121e></path></svg></span><span class="settings__label" data-v-1f63121e></span>',2)])]),v("button",{class:"settings__item",onClick:x},[...g[10]||(g[10]=[no('<span class="settings__icon" data-v-1f63121e><svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-1f63121e><path d="M12 21V9m0 0l4 4m-4-4L8 13" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-1f63121e></path><path d="M4 5h16" stroke="#fff" stroke-width="2" stroke-linecap="round" data-v-1f63121e></path></svg></span><span class="settings__label" data-v-1f63121e></span>',2)])]),v("input",{ref_key:"fileInput",ref:d,type:"file",accept:".json",onChange:S,style:{display:"none"}},null,544)])])])):Tt("",!0)]))}},vr=en(G0,[["__scopeId","data-v-1f63121e"]]);function ho(e,t,n,o=""){const s=document.getElementById("progress-bar"),i=document.getElementById("progress-text"),r=document.querySelector(".loading-subtitle");s&&(s.style.width=n+"%"),i&&(e===0&&t===0?i.textContent=`${n}%`:i.textContent=`${e} / ${t} (${n}%)`),r&&o&&(r.textContent=o)}function Tr(){const e=document.getElementById("loading-screen");e&&(e.classList.add("fade-out"),setTimeout(()=>{e.style.display="none"},500))}async function D0(){try{console.log("..."),await Ro(ho,["high"]),console.log(""),ho(0,100,100,"..."),Qi(vr).mount("#app"),await new Promise(t=>setTimeout(t,200)),window.__INIT_THREE_SCENE__&&await window.__INIT_THREE_SCENE__((t,n,o)=>{ho(0,0,o,`3D... ${o}%`)}),console.log(""),setTimeout(()=>{Tr()},300),setTimeout(async()=>{try{console.log("..."),await Ro(null,["medium"]),console.log("")}catch(t){console.warn(":",t)}},1e3)}catch(e){console.error(":",e),Qi(vr).mount("#app"),Tr()}}D0();
