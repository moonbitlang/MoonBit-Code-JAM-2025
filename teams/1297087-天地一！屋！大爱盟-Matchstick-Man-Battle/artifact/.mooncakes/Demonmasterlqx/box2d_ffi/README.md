# MoonBox2D

## 编写指南

+ 文件名和js的文件名对应，只更改后缀
+ 类的名称为大写
+ 函数名称首位小写，使用小驼峰，注意有些引擎内部实现的函数也不用管，也就是用户用不到的，比如 b2Body 的 QuickSyncShapes
+ 要为每个Def类写一个空的构造函数，非Def的类通过对应的create函数返回值得到
+ 类的成员变量看情况写，一般来说所有的 Def 类需要完全实现对于每个成员变量的控制，但是有些已经有函数的就不用了 比如 B2BodyDef 的 AddShape
+ 每个类的成员函数都要写
+ 注意有些和用户无关的类也不用实现ffi 比如 b2ContactManager b2PairManager b2PairCallback，拿不准可以问AI

目标：可以用ffi把demo写出来

记着有些地方的内存管理的问题，就比如说 vector ，修改的时候不要直接复制整个vector，会发生不幸的事情（应为他们指向了同一个内存），使用Set

## 暂时不打算完成的部分

+ b2GearJointDef 和 b2GearJoint

目前的实现是有风险的，因为并没有完全处理关于js动态类型与moonbit之间的关系

不支持从基类向派生类的变换（有点不想写，而且似乎不支持这样写）

不推荐用户自己拿到基类，容易造成未定义问题