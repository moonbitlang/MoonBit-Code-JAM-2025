# 水墨之灵-Inkfish

## 游戏简介

- 水墨之灵是一款简单的休闲动作游戏，玩家控制一对旋转的黑白双鱼，在古朴的画卷中穿梭，通过重重阻碍。
游戏从经典的街机游戏Duet中汲取灵感，并巧妙融入了中国水墨的意境与独创的异色障碍机制，由此呈现出一种别具一格的游玩体验。

- 正式版现已更新！在构建核心关卡序列与无限模式的基础上，加入了心流模式，并新增了加载、设置、排行榜等完整UI流程与BGM与音效模块。此外，还添加了暂停功能并优化了按钮交互体验。

### 设计理念
水墨之灵，即白鱼为“水”，因此能够穿越画卷中的白色障碍“水渍”，黑鱼为“墨”，能够穿越黑色障碍“墨渍”；在发生异色碰撞时，白鱼碰撞黑色障碍物将其变白，黑鱼碰撞白色障碍物将其染黑，巧妙地深化了水墨画卷的世界观。同时，黑鱼白眼为阴，白鱼黑眼为阳，二者不可分割，在旋转时，构成了一幅和谐的太极阴阳图，为游戏增添了一分阴阳相生的哲思。正式版加入的红色障碍物“印章”，在增加游戏难度与趣味性的同时，也为黑白画卷增添了一抹亮色，进一步展现了传统文化的魅力。

## 操作说明

### 基础控制
- 进入关卡后按 空格键 开始游戏
- 长按左方向键 / 键盘A 逆时针旋转双鱼
- 长按右方向键 / 键盘D 顺时针旋转双鱼
- 游戏结束时按 空格键 重置游戏
- 游戏设置中可改变旋转速度（慢、中、快）、开关音乐与音效

### 游戏规则
- 游戏具有“起”、“承”、“转”、“合”四个固定障碍物序列的关卡与随机出现障碍物的无限模式
- 玩家能够控制双鱼的旋转方向，躲避接近的障碍物
- 黑鱼能够穿过黑色障碍物，白鱼能够穿过白色障碍物，而红色障碍物均无法通过
- 游戏进行时将持续累积分数，存在可获取的得分点“太极符”，任意鱼触碰后可获得额外分数
- 触碰到异色或红色障碍物时，游戏结束
- 关卡模式中，通过所有障碍物后，完成关卡
- 无限模式中，发生碰撞则游戏结束并显示分数，支持查看排行榜
### 特殊机制
- 收集三个太极符后进入持续六秒的“心流模式”
- “心流”期间双鱼能够穿过所有黑白障碍物，但仍会与红色障碍物发生碰撞
## 技术特色

采用MoonBit内置的分层物理碰撞引擎，实现黑白双鱼与障碍物的精确碰撞检测，通过自定义旋转坐标转换系统和InitialOffset组件确保碰撞体与视觉实体位置同步。基于ECS架构管理实体组件，配合sprite系统实现流畅的视觉表现，主要素材双鱼形象由AI生成与迭代，障碍物素材采用PS笔刷绘制。此外，通过序列化关卡数据构建动态障碍物生成机制，并以@system.timeout实现胜利判定。

正式版中，关卡系统通过ObstacleSpawnInfo和TaijiSpawnInfo数据结构序列化关卡配置，支持预定义关卡序列与动态难度调整的无限模式。无限模式采用LCG伪随机数生成器结合DifficultyParams动态参数系统，根据玩家分数实时调整障碍物生成频率、类型权重与位置分布，并通过安全间距检测算法确保可玩性。胜利判定机制利用@system.timeout配合game_session_id会话管理实现异步计时，有效防止状态切换导致的计时器失效问题。

## 团队信息

- 团队名称：spoqs
- 联系方式：1870681052@qq.com

---
*PS.游戏所用背景音乐由[乌鸦Producer]提供（从此江渚春水尽、故敌愁）*